@model AdvanceCRM.Common.TeamDashboardPageModel

<!-- Small boxes (Stat box) -->
@if (Model.OpenCMS > 0 && Model.OpenAMC > 0)
{
    <div class="row">

        <div class="col-lg-2 col-xs-6">

            <!-- small box -->
            <div class="small-box bg-aqua">
                <div class="inner">
                    <h3>@Model.OpenEnq</h3>
                    <h4>@Model.EnqAmt</h4>
                    <p>Enquiries</p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
                <a href="/Enquiry?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-teal">
                <div class="inner">
                    <h3>@Model.OpenQuot</h3>
                    <h4>@Model.QuotAmt</h4>
                    <p>Quotations</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/Quotation?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box" style="background-color:lightblue">
                <div class="inner">
                    <h3>@Model.CustomerCount</h3>
                    <h4>.</h4>
                    <p>Contacts</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="/Contacts" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-gray">
                <div class="inner">
                    <h3>@Model.OpenTasks</h3>
                    <h4>.</h4>
                    <p>Tasks</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                <a href="/Tasks?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        @if (@Model.OpenCMS > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:palegoldenrod">
                    <div class="inner">
                        <h3>@Model.OpenCMS</h3>
                        <h4>.</h4>
                        <p>CMS</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="/Services/CMS?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->

        }
        @if (Model.OpenAMC > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:ivory">
                    <div class="inner">
                        <h3>@Model.OpenAMC</h3>
                        <h4>.</h4>
                        <p>AMC Visits</p>
                    </div>
                    <div class="icon">
                        <i class="fa fa-file-code-o"></i>
                    </div>
                    <a href="Services/AMC?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->
        }
        @if (@Model.OpenPi > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:palegoldenrod">
                    <div class="inner">
                        <h3>@Model.OpenPi</h3>
                        <h4>@Model.PIAmt</h4>
                        <p>Proforma</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="/Proforma?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->

        }
        @if (Model.Opensale > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="box" style="background-color:ivory">
                    <div class="inner">
                        <h3>@Model.Opensale</h3>
                        <h4>@Model.SaleAmt</h4>
                        <p>Sales</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="/Sales?Open" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->
        }
    </div><!-- /.row -->
}
else if (Model.OpenCMS > 0 || Model.OpenAMC > 0)
{
    <div class="row">

        <div class="col-lg-2 col-xs-6">

            <!-- small box -->
            <div class="small-box bg-aqua">
                <div class="inner">
                    <h3>@Model.OpenEnq</h3>
                    <h4>@Model.EnqAmt</h4>
                    <p>Enquiries</p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
                <a href="/Enquiry" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-teal">
                <div class="inner">
                    <h3>@Model.OpenQuot</h3>
                    <h4>@Model.QuotAmt</h4>
                    <p>Quotations</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/Quotation" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box" style="background-color:lightblue">
                <div class="inner">
                    <h3>@Model.CustomerCount</h3>
                    <h4>.</h4>
                    <p>Contacts</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="/Contacts" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-gray">
                <div class="inner">
                    <h3>@Model.OpenTasks</h3>
                    <h4>.</h4>
                    <p>Tasks</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                <a href="/Tasks" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        @if (@Model.OpenCMS > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:palegoldenrod">
                    <div class="inner">
                        <h3>@Model.OpenCMS</h3>
                        <h4>.</h4>
                        <p>CMS</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="/Services/CMS" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->

        }
        @if (Model.OpenAMC > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:ivory">
                    <div class="inner">
                        <h3>@Model.OpenAMC</h3>
                        <h4>.</h4>
                        <p>AMC Visits</p>
                    </div>
                    <div class="icon">
                        <i class="fa fa-file-code-o"></i>
                    </div>
                    <a href="Services/AMC" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->
        }
        @if (@Model.OpenPi > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:palegoldenrod">
                    <div class="inner">
                        <h3>@Model.OpenPi</h3>
                        <h4>@Model.PIAmt</h4>
                        <p>Proforma</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="Sales/Invoice" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->

        }
        @if (Model.Opensale > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:ivory">
                    <div class="inner">
                        <h3>@Model.Opensale</h3>
                        <h4>@Model.SaleAmt</h4>
                        <p>Sales</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                    </div>
                    <a href="Sales/Sales" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->
        }
    </div><!-- /.row -->
}

else
{
    <div class="row">
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-aqua">
                <div class="inner">
                    <h3>@Model.OpenEnq</h3>
                    <h4>@Model.EnqAmt</h4>
                    <p>Enquiries</p>
                </div>
                <div class="icon">
                    <i class="ion ion-bag"></i>
                </div>
                <a href="/Enquiry" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-teal">
                <div class="inner">
                    <h3>@Model.OpenQuot</h3>
                    <h4>@Model.QuotAmt</h4>
                    <p>Quotations</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/Quotation" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box" style="background-color:lightblue">
                <div class="inner">
                    <h3>@Model.CustomerCount</h3>
                    <h4>.</h4>
                    <p>Contacts</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="/Contacts" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        <div class="col-lg-2 col-xs-6">
            <!-- small box -->
            <div class="small-box bg-gray">
                <div class="inner">
                    <h3>@Model.OpenTasks</h3>
                    <h4>.</h4>
                    <p>Tasks</p>
                </div>
                <div class="icon">
                    <i class="ion ion-pie-graph"></i>
                </div>
                <a href="/Tasks" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
            </div>
        </div><!-- ./col -->
        @if (@Model.OpenPi > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:palegoldenrod">
                    <div class="inner">
                        <h3>@Model.OpenPi</h3>
                        <h4>@Model.PIAmt</h4>
                        <p>Proforma</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-ios-settings-strong"></i>
                    </div>
                    <a href="Sales/Invoice" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->

        }
        @if (Model.Opensale > 0)
        {
            <div class="col-lg-2 col-xs-6">
                <!-- small box -->
                <div class="small-box" style="background-color:ivory">
                    <div class="inner">
                        <h3>@Model.Opensale</h3>
                        <h4>@Model.SaleAmt</h4>
                        <p>Sales</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                    </div>
                    <a href="Sales/Sales" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div><!-- ./col -->
        }
    </div><!-- /.row -->
}

<!-- Main row -->
<div class="row">
    <!-- Left col -->
    <section class="col-lg-6 connectedSortable">

        @if (Model.EnqFollowups != null && Model.EnqFollowups.Count > 0)
        {
            <!-- Enquiry Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Enquiry Followups(@Model.EnqFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                @*<script type="text/javascript">
                        function RefreshDiv(str) {
                            alert(str.value);
                            $('#enqfollowdiv').load();
                        }
                    </script>
                    <div class="form-group">
                        <select class="form-control select2" id="enqfollow" style="width: 100%;" onchange="RefreshDiv(this)">
                            <option selected="selected">All</option>
                            @foreach (var item in Model.Users)
                            {
                                <option value="@item.UserId">@item.Username</option>
                            }
                        </select>
                    </div>*@<!-- /.form-group -->
                <div class="box-body" id="enqfollowdiv">
                    <ul class="todo-list">
                        @foreach (var item in Model.EnqFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.EnquiryId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Enquiry.EnquiryDialog().loadByIdAndOpenDialog('@item.EnquiryId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.EnquiryAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Enquiry Followups-->
        }

        @if (Model.QuotFollowups != null && Model.QuotFollowups.Count > 0)
        {
            <!-- Quotation Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Quotation Followups(@Model.QuotFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.QuotFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.QuotationId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Quotation.QuotationDialog().loadByIdAndOpenDialog('@item.QuotationId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.QuotationAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Quotation Followups-->
        }

        @if (Model.TCFollowups != null && Model.TCFollowups.Count > 0)
        {
            <!-- Telecalling Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Telecalling Followups</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.TCFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.TeleCallingId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.TeleCallingDialog().loadByIdAndOpenDialog('@item.TeleCallingId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.TeleCallingContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.TeleCallingContactsId).Phone</text>
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.TeleCallingAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Telecalling Followups-->
        }

        @if (Model.EnqFollowupsCompleted != null && Model.EnqFollowupsCompleted.Count > 0)
        {
            <!-- Today's Completed Enquiry Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Enquiry Followups(@Model.EnqFollowupsCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.EnqFollowupsCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.EnquiryId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Enquiry.EnquiryDialog().loadByIdAndOpenDialog('@item.EnquiryId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.EnquiryAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed Enquiry Followups-->
        }

        @if (Model.QuotFollowupsCompleted != null && Model.QuotFollowupsCompleted.Count > 0)
        {
            <!-- Today's Completed Quotation Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Quotation Followups(@Model.QuotFollowupsCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.QuotFollowupsCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.QuotationId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Quotation.QuotationDialog().loadByIdAndOpenDialog('@item.QuotationId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.QuotationAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed Quotation Followups-->
        }

        @if (Model.TCCompleted != null && Model.TCCompleted.Count > 0)
        {
            <!-- Completed Telecalling Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Telecalling Followups</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.TCCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.TeleCallingId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.TeleCallingDialog().loadByIdAndOpenDialog('@item.TeleCallingId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.TeleCallingContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.TeleCallingContactsId).Phone</text>
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.TeleCallingAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Completed Telecalling Followups-->
        }

        @if (Model.ODEnqFollowups != null && Model.ODEnqFollowups.Count > 0)
        {
            <!-- Overdue Enquiry Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Enquiry Followups(@Model.ODEnqFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODEnqFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.EnquiryId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Enquiry.EnquiryDialog().loadByIdAndOpenDialog('@item.EnquiryId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.EnquiryContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.EnquiryAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Over Due Enquiry Followups-->
        }

        @if (Model.ODQuotFollowups != null && Model.ODQuotFollowups.Count > 0)
        {
            <!-- Overdue Quotation Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Quotation Followups(@Model.ODQuotFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODQuotFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.QuotationId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Quotation.QuotationDialog().loadByIdAndOpenDialog('@item.QuotationId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.QuotationContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.QuotationAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Overdue Quotation Followups-->
        }

        @if (Model.ODTCFollowups != null && Model.ODTCFollowups.Count > 0)
        {
            <!-- Overdue Telecalling Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Telecalling Followups</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODTCFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.TeleCallingId</span>
                                        </td>
                                        <td width="25%">
                                            @foreach (var cust in Model.Customer)
                                            {
                                                if (item.TeleCallingContactsId == cust.Id)
                                                {
                                                    <span class="text"><a href="javascript:new AdvanceCRM.Services.TeleCallingDialog().loadByIdAndOpenDialog('@item.TeleCallingId', false)">@cust.Name</a></span> <text> - @cust.Phone </text>
                                                }
                                            }
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="32.5%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.TeleCallingAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Over Due Telecalling Followups-->
        }

        @if (Model.Tasks != null && Model.Tasks.Count > 0)
        {
            <!-- Today's Tasks -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Tasks(@Model.Tasks.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.Tasks)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Tasks.TasksDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.Task</a></span>
                                        </td>
                                        <td width="35%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">By- @Model.Users.FirstOrDefault(x => x.UserId == item.AssignedBy).Username</span>
                                        </td>
                                        <td width="20%">
                                            <span class="text">@item.CreationDate.Value.ToShortDateString()</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Tasks-->
        }

        @if (Model.TasksCompleted != null && Model.TasksCompleted.Count > 0)
        {
            <!-- Today's Completed Tasks -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Tasks(@Model.TasksCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.TasksCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Tasks.TasksDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.Task</a></span>
                                        </td>
                                        <td width="35%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">By- @Model.Users.FirstOrDefault(x => x.UserId == item.AssignedBy).Username</span>
                                        </td>
                                        <td width="20%">
                                            <span class="text">@item.CreationDate.Value.ToShortDateString()</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed Tasks-->
        }

        @if (Model.ODTasks != null && Model.ODTasks.Count > 0)
        {
            <!-- Overdue Tasks -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Tasks(@Model.ODTasks.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODTasks)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Tasks.TasksDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.Task</a></span>
                                        </td>
                                        <td width="35%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">By- @Model.Users.FirstOrDefault(x => x.UserId == item.AssignedBy).Username</span>
                                        </td>
                                        <td width="20%">
                                            <span class="text">@item.CreationDate.Value.ToShortDateString()</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Overdue Tasks-->
        }

        @if (Model.CMS != null && Model.CMS.Count > 0 || Model.CMSFollowups != null && Model.CMSFollowups.Count > 0)
        {
            <!-- Today's CMS -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Complaints(@Model.CMS.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.CMS)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.ContactsName</a></span> <text> - @item.ContactsPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Instructions</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                        @foreach (var item in Model.CMSFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.CMSId', false)">@item.ContactName</a></span> <text> - @item.ContactPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.CMSAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's CMS-->
        }

        @if (Model.CMSCompleted != null && Model.CMSCompleted.Count > 0 || Model.CMSFollowupsCompleted != null && Model.CMSFollowupsCompleted.Count > 0)
        {
            <!-- Today's Completed CMS -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Complaints(@Model.CMSCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.CMSCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.ContactsName</a></span> <text> - @item.ContactsPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Instructions</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                        @foreach (var item in Model.CMSFollowupsCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.CMSId', false)">@item.ContactName</a></span> <text> - @item.ContactPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.CMSAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }


                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed CMS-->
        }

        @if (Model.ODCMS != null && Model.ODCMS.Count > 0 || Model.ODCMSFollowups != null && Model.ODCMSFollowups.Count > 0)
        {
            <!-- OD CMS -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Complaints(@Model.ODCMS.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODCMS)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.Id', false)">@item.ContactsName</a></span> <text> - @item.ContactsPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Instructions</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }

                        @foreach (var item in Model.ODCMSFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.Id</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.CMSDialog().loadByIdAndOpenDialog('@item.CMSId', false)">@item.ContactName</a></span> <text> - @item.ContactPhone </text>
                                        </td>
                                        <td width="30%">
                                            <span class="text">@item.ProductsName</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.ComplaintType</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.CMSAssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Overdue CMS-->
        }

        @*AMC*@
        @if (Model.AMC != null && Model.AMC.Count > 0)
        {
            <!-- AMC Visits-->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's AMC Visits(@Model.AMC.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.AMC)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.AMCId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.AMCDialog().loadByIdAndOpenDialog('@item.AMCId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Phone</text>
                                        </td>
                                        <td width="70%">
                                            <span class="text">@item.VisitDetails</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End AMC Visits-->
        }

        @if (Model.AMCCompleted != null && Model.AMCCompleted.Count > 0)
        {
            <!-- Today's AMC Visits-->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed AMC Visits(@Model.AMCCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.AMCCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.AMCId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.AMCDialog().loadByIdAndOpenDialog('@item.AMCId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Phone</text>
                                        </td>
                                        <td width="70%">
                                            <span class="text">@item.VisitDetails</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed AMC Visits-->
        }

        @if (Model.ODAMC != null && Model.ODAMC.Count > 0)
        {
            <!-- AMC ODVisits-->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue AMC Visits(@Model.ODAMC.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODAMC)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.AMCId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Services.AMCDialog().loadByIdAndOpenDialog('@item.AMCId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.AMCContactsId).Phone</text>
                                        </td>
                                        <td width="70%">
                                            <span class="text">@item.VisitDetails</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.AssignedTo).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End ODAMC Visits-->
        }

        @*Inovice*@
        @if (Model.InvoiceFollowups != null && Model.InvoiceFollowups.Count > 0)
        {
            <!-- Invoice Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Proforma Invoice Followups(@Model.InvoiceFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.InvoiceFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.InvoiceId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Sales.InvoiceDialog().loadByIdAndOpenDialog('@item.InvoiceId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.InvoiceAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Invoice Followups-->
        }

        @if (Model.InvoiceFollowupsCompleted != null && Model.InvoiceFollowupsCompleted.Count > 0)
        {
            <!-- Today's Completed Invoice Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Today's Completed Proforma Followups(@Model.InvoiceFollowupsCompleted.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.InvoiceFollowupsCompleted)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.InvoiceId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Sales.InvoiceDialog().loadByIdAndOpenDialog('@item.InvoiceId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.InvoiceAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Today's Completed Invoice Followups-->
        }

        @if (Model.ODInvoiceFollowups != null && Model.ODInvoiceFollowups.Count > 0)
        {
            <!-- Overdue Invoice Followups -->
            <div class="box box-primary collapsed-box">
                <div class="box-header">
                    <i class="ion ion-clipboard"></i>
                    <h3 class="box-title">Overdue Proforma Invoice Followups(@Model.ODInvoiceFollowups.Count)</h3>
                    <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-plus"></i></button>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <ul class="todo-list">
                        @foreach (var item in Model.ODInvoiceFollowups)
                        {
                            <li>
                                <table style="width:100%">
                                    <tr>
                                        <td width="5%">
                                            <span class="text">@item.InvoiceId</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text"><a href="javascript:new AdvanceCRM.Sales.InvoiceDialog().loadByIdAndOpenDialog('@item.InvoiceId', false)">@Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.InvoiceContactsId).Phone</text>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.FollowupNote</span>
                                        </td>
                                        <td width="25%">
                                            <span class="text">@item.Details</span>
                                        </td>
                                        <td width="15%">
                                            <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.InvoiceAssignedId).Username</span>
                                        </td>
                                    </tr>
                                </table>
                            </li>
                        }
                    </ul>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
            <!--End Over Due Invoice Followups-->
        }


        @*Sales*@
        @*@if (Model.SalesFollowups.Count > 0)
            {

                <div class="box box-primary">
                    <div class="box-header">
                        <i class="ion ion-clipboard"></i>
                        <h3 class="box-title">Today's Sales Followups(@Model.SalesFollowups.Count)</h3>
                        <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-minus"></i></button>
                    </div>
                    <div class="box-body">
                        <ul class="todo-list">
                            @foreach (var item in Model.SalesFollowups)
                            {
                                <li>
                                    <table style="width:100%">
                                        <tr>
                                            <td width="5%">
                                                <span class="text">@item.SalesId</span>
                                            </td>
                                            <td width="25%">
                                                <span class="text"><a href="javascript:new AdvanceCRM.Sales.SalesDialog().loadByIdAndOpenDialog('@item.SalesId')">@Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Phone</text>
                                            </td>
                                            <td width="25%">
                                                <span class="text">@item.FollowupNote</span>
                                            </td>
                                            <td width="25%">
                                                <span class="text">@item.Details</span>
                                            </td>
                                            <td width="15%">
                                                <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.SalesAssignedId).Username</span>
                                            </td>
                                        </tr>
                                    </table>
                                </li>
                            }
                        </ul>
                    </div>
                </div>

            }*@

        @*@if (Model.SalesFollowupsCompleted.Count > 0)
            {

                <div class="box box-primary">
                    <div class="box-header">
                        <i class="ion ion-clipboard"></i>
                        <h3 class="box-title">Today's Completed Sales Followups(@Model.SalesFollowupsCompleted.Count)</h3>
                        <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-minus"></i></button>
                    </div>
                    <div class="box-body">
                        <ul class="todo-list">
                            @foreach (var item in Model.SalesFollowupsCompleted)
                            {
                                <li>
                                    <table style="width:100%">
                                        <tr>
                                            <td width="5%">
                                                <span class="text">@item.SalesId</span>
                                            </td>
                                            <td width="25%">
                                                <span class="text"><a href="javascript:new AdvanceCRM.Sales.SalesDialog().loadByIdAndOpenDialog('@item.SalesId')">@Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Phone</text>
                                            </td>
                                            <td width="25%">
                                                <span class="text">@item.FollowupNote</span>
                                            </td>
                                            <td width="25%">
                                                <span class="text">@item.Details</span>
                                            </td>
                                            <td width="15%">
                                                <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.SalesAssignedId).Username</span>
                                            </td>
                                        </tr>
                                    </table>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            }*@

        @*@if (Model.ODSalesFollowups.Count > 0)
            {

                <div class="box box-primary">
                    <div class="box-header">
                        <i class="ion ion-clipboard"></i>
                        <h3 class="box-title">Overdue Sales Followups(@Model.ODSalesFollowups.Count)</h3>
                        <button class="btn btn-primary btn-sm pull-right" data-widget="collapse" data-toggle="tooltip" title="Collapse" style="margin-right: 5px;"><i class="fa fa-minus"></i></button>
                    </div>
                    <div class="box-body">
                        <ul class="todo-list">
                            @foreach (var item in Model.ODSalesFollowups)
                            {
                                <li>
                                    <table style="width:100%">
                                        <tr>
                                            <td width="5%">
                                                <span class="text">@item.SalesId</span>
                                            </td>
                                            <td width="25%">
                                                <span class="text"><a href="javascript:new AdvanceCRM.Sales.SalesDialog().loadByIdAndOpenDialog('@item.SalesId')">@Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Name</a></span> <text> - @Model.Customer.FirstOrDefault(x => x.Id == item.SalesContactsId).Phone</text>
                                            </td>
                                            <td width="32.5%">
                                                <span class="text">@item.FollowupNote</span>
                                            </td>
                                            <td width="32.5%">
                                                <span class="text">@item.Details</span>
                                            </td>
                                            <td width="15%">
                                                <span class="text">@Model.Users.FirstOrDefault(x => x.UserId == item.SalesAssignedId).Username</span>
                                            </td>
                                        </tr>
                                    </table>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            }*@

    </section><!-- /.Left col -->
    <!-- **********Second Column********** -->
    <!-- right col (We are only adding the ID to make the widgets sortable)-->
    <section class="col-lg-6 connectedSortable">
        <!-- Enquiry graph -->
        <div class="box box-solid bg-teal-gradient">
            <div class="box-header">
                <i class="fa fa-th"></i>
                <h3 class="box-title">My Enquiry Chart(10 days)</h3>
                <div class="box-tools pull-right">
                    <button class="btn bg-teal btn-sm" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn bg-teal btn-sm" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div>
            <div class="box-body border-radius-none">
                <div class="chart" id="line-chart-enq" style="height: 250px;"></div>
            </div><!-- /.box-body -->
        </div><!-- /.box -->
        <!-- Quotation graph -->
        <div class="box box-solid bg-yellow-gradient">
            <div class="box-header">
                <i class="fa fa-th"></i>
                <h3 class="box-title">My Quotation Chart(10 days)</h3>
                <div class="box-tools pull-right">
                    <button class="btn bg-yellow btn-sm" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn bg-yellow btn-sm" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div>
            <div class="box-body border-radius-none">
                <div class="chart" id="line-chart-quot" style="height: 250px;"></div>
            </div><!-- /.box-body -->
        </div><!-- /.box -->
        @*<!-- Calendar -->
            <div class="box box-solid bg-green-gradient">
                <div class="box-header">
                    <i class="fa fa-calendar"></i>
                    <h3 class="box-title">Calendar</h3>
                    <!-- tools box -->
                    <div class="pull-right box-tools">
                        <!-- button with a dropdown -->
                        <button class="btn btn-success btn-sm" data-widget="collapse"><i class="fa fa-minus"></i></button>
                        <button class="btn btn-success btn-sm" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div><!-- /. tools -->
                </div><!-- /.box-header -->
                <div class="box-body no-padding">
                    <!--The calendar -->
                    <div id="calendar" style="width: 100%"></div>
                </div><!-- /.box-body -->
            </div><!-- /.box -->*@
    </section><!-- right col -->
</div><!-- /.row (main row) -->

<script type="text/javascript">
    $(function () {
        //Enquiry chart
        if (Model.EnqListChart != null && @Model.EnqListChart.Count() > 0) {
            var line = new Morris.Line({
                element: 'line-chart-enq',
                resize: true,
                data: [
                @{ int cnt = 1;}
            @foreach (var item in Model.EnqListChart.Select(x => x.Date.Value.ToString("yyyy-MM-dd")).Distinct())
                {
                    <text> { y: '@item.ToString()', item1: @Model.EnqListChart.Where(yy => yy.Date.Value.ToString("yyyy-MM-dd") == Html.DisplayFor(x => item).ToString()).Count() }, </text>
                    cnt = cnt + 1;
            }
                ],
                xkey: 'y',
                ykeys: ['item1'],
                labels: ['Count'],
                lineColors: ['#efefef'],
                lineWidth: 2,
                hideHover: 'auto',
                gridTextColor: "#fff",
                gridStrokeWidth: 0.4,
                pointSize: 4,
                pointStrokeColors: ["#efefef"],
                gridLineColor: "#efefef",
                gridTextFamily: "Open Sans",
                gridTextSize: 10
            });
        }
        else {
            console.log("No data Available");
        }

        //Quotation chart
        if (Model.QuotListChart != null && @Model.QuotListChart.Count() > 0) {
        var line = new Morris.Line({
            element: 'line-chart-quot',
            resize: true,
            data: [
                @{ int cnt1 = 1;}
                @foreach (var item in Model.QuotListChart.Select(x => x.Date.Value.ToString("yyyy-MM-dd")).Distinct())
                {
                    <text> { y: '@item.ToString()', item1: @Model.QuotListChart.Where(yy => yy.Date.Value.ToString("yyyy-MM-dd") == Html.DisplayFor(x => item).ToString()).Count() }, </text>
                    cnt1 = cnt1 + 1;
                }
            ],
            xkey: 'y',
            ykeys: ['item1'],
            labels: ['Count'],
            lineColors: ['#efefef'],
            lineWidth: 2,
            hideHover: 'auto',
            gridTextColor: "#fff",
            gridStrokeWidth: 0.4,
            pointSize: 4,
            pointStrokeColors: ["#efefef"],
            gridLineColor: "#efefef",
            gridTextFamily: "Open Sans",
            gridTextSize: 10
        });

        }

    });
</script>