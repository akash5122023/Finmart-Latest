@model MailChimp.Net.Models.Member
@{
    ViewBag.Title = "DetailSubscriber";
}

<div class="s-DataGrid require-layout route-handler responsive-height" style="height: auto;">
    <div class="grid-title"><div class="title-text">Subscriber Details</div></div>
    <br />

    @if (Model.Status.ToString() != "Unsubscribed")
    {
    <div class="row">
        <div class="col-sm-10"></div>
        <div class="col-sm-2">
            <button type="button" id="UnSubscribeList" name="UnSubscribeList" class="btn btn-block navbar-btn" title="Unsubscribe" onclick="location.href = '@Url.Action("Unsubscribe", "Mailchimp",new {listId=Model.ListId,EmailAddress=Model.EmailAddress,flag="Unsubscribed"})';">Unsubscribe</button>
        </div>
    </div>
    }
    @if (Model.Status.ToString() == "Unsubscribed")
    {
    <div class="row">
        <div class="col-sm-10"></div>
        <div class="col-sm-2">
            <button type="button" id="SubscribeList" name="SubscribeList" class="btn btn-block navbar-btn" title="Subscribe" onclick="location.href = '@Url.Action("Unsubscribe", "Mailchimp",new {listId=Model.ListId,EmailAddress=Model.EmailAddress,flag="Subscribed"})';">Subscribe</button>
        </div>
    </div>
    }

    <br />
    <table class="table table-user-information">
        <tbody>
            <tr>
                <td><strong>Email Address</strong></td>
                <td>@Model.EmailAddress</td>
                <td><strong>Status </strong></td>
                <td><span class="badge">@Model.Status</span></td>
            </tr>
            <tr>
                <td><strong>First Name</strong></td>
                <td>@Model.MergeFields["FNAME"]</td>
                <td><strong>Last Name</strong></td>
                <td>@Model.MergeFields["LNAME"]</td>
            </tr>
            <tr>
                <td><strong>SignUp Date</strong></td>
                <td>@Model.TimestampSignup.ToString()</td>
                <td><strong>Last Date Changed</strong></td>
                <td>@Model.LastChanged.ToString()</td>
            </tr>
            <tr>
                <td><strong>Favourite email client</strong></td>
                <td>@Model.EmailClient</td>
                <td><strong>Language</strong></td>
                <td>@Model.Language</td>
            </tr>
            <tr>
                @if (Model.Location.Timezone != null)
                {
                <td><strong>Location </strong></td>
                <td><a href="https://maps.google.com/maps?q=@Model.Location.Latitude,@Model.Location.Longitude">@Model.Location.Timezone,@Model.Location.CountryCode</a></td>
}
                <td><strong>SignUp Source</strong></td>
                <td>@Model.IpSignup</td>
            </tr>
        </tbody>
    </table>
    <div class="row">
        <div class="col-sm-2">
            <button type="button" id="Back" name="Back" class="btn btn-block navbar-btn" title="Back to Subscriber List" onclick="location.href = '@Url.Action("Members", "Mailchimp",new {id=@Model.ListId })';">Back to Subscriber</button>
        </div>
        <div class="col-sm-10"></div>
    </div>

</div>
