@model AdvanceCRM.Modules.Premium.SalesDashboardPageModel
@{
	ViewBag.Title = "SalesDashboard";
}

<h2>Sales</h2>
<!-- Styles -->
<style>
    #MonthwiseSalesComparison {
        width: 100%;
        height: 350px;
    }

    #SalesStatusPyramid {
        width: 100%;
        height: 300px;
    }

    #MediawiseSales {
        width: 100%;
        height: 300px;
    }

    #YearlySales {
        width: 100%;
        height: 300px;
        font-size: 11px;
    }

    #ProductwiseSalSummary {
        width: 100%;
        height: 300px;
        font-size: 11px;
    }

    #WeeklyProductComparisonSales {
        width: 100%;
        height: 250px;
    }

    #DivisionwiseSalesAnalysis {
        width: 100%;
        height: 300px;
    }

    #CashCreditSalesAnalysis {
        width: 100%;
        height: 550px;
    }

    #OverallTargetSales {
        width: 100%;
        height: 300px;
    }

    #OverallTargetSalesAmt {
        width: 100%;
        height: 300px;
    }

    #CitywiseSalesAnalysis {
        width: 100%;
        height: 500px;
        font-size: 11px;
    }

    #BranchwiseSales {
        width: 100%;
        height: 300px;
    }

    .amcharts-pie-slice {
        transform: scale(1);
        transform-origin: 50% 50%;
        transition-duration: 0.3s;
        transition: all .3s ease-out;
        -webkit-transition: all .3s ease-out;
        -moz-transition: all .3s ease-out;
        -o-transition: all .3s ease-out;
        cursor: pointer;
        box-shadow: 0 0 30px 0 #000;
    }

        .amcharts-pie-slice:hover {
            transform: scale(1.1);
            filter: url(#shadow);
        }
</style>

<link rel="stylesheet" href="~/Scripts/daterangepicker/daterangepicker-bs3.css" />
<link rel="stylesheet" href="~/Content/iCheck/all.css" />
<link rel="stylesheet" href="~/Scripts/colorpicker/bootstrap-colorpicker.min.css" />
<link rel="stylesheet" href="~/Scripts/timepicker/bootstrap-timepicker.min.css" />

<script src="~/Scripts/input-mask/jquery.inputmask.js"></script>
<script src="~/Scripts/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="~/Scripts/input-mask/jquery.inputmask.extensions.js"></script>
<script src="~/Scripts/daterangepicker/moment.min.js"></script>
<script src="~/Scripts/daterangepicker/daterangepicker.js"></script>
<script src="~/Scripts/colorpicker/bootstrap-colorpicker.min.js"></script>
<script src="~/Scripts/timepicker/bootstrap-timepicker.min.js"></script>
<script src="~/Scripts/jquery.icheck.min.js"></script>
<script src="~/Scripts/adminlte/demo.js"></script>



<!-- Resources -->
<script src="~/amcharts/amcharts.js"></script>
@*3D PIE CHART,3D Donut Chart,Simple Pie Chart*@
<script src="~/amcharts/pie.js"></script>
@*3D FUNNEL AND PYRAMID*@
<script src="~/amcharts/funnel.js"></script>
@*3D Cylinder Chart,Stacked bar chart with negative values,Column and Line mix,Reversed Value Axis*@
<script src="~/amcharts/serial.js"></script>
@*Solid Gauge,Animated gauge*@
<script src="~/amcharts/gauge.js"></script>
<script src="~/amcharts/plugins/export/export.min.js"></script>
<link href="~/amcharts/plugins/export/export.css" rel="stylesheet" />
<script src="~/amcharts/themes/light.js"></script>
<script src="~/amcharts/plugins/responsive/responsive.min.js"></script>



<!-- Chart code -->
<script>

	//SalesStatusPyramid Pyramid
	var chart = AmCharts.makeChart("SalesStatusPyramid", {
			"type": "funnel",
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"dataProvider": [{
				"title": "Total",
				"value": '@Model.TotalSalesTypes'
			},
			{
				"title": "Open",
				"value": '@Model.SalesStatusOpen'
			},
			{
				"title": "Closed",
				"value": '@Model.SalesStatusClosed'
			},
			{
				"title": "Pending",
				"value": '@Model.SalesStatusPending'
			}],

			"balloon": {
				"fixedPosition": true
			},
			"valueField": "value",
			"titleField": "title",
			"marginRight": 240,
			"marginLeft": 50,
			"startX": -500,
			"rotate": true,
			"labelPosition": "right",
			"balloonText": "[[title]]: [[value]]",
			"export": {
				"enabled": true
			}
	});

	var chart = AmCharts.makeChart("ProductwiseSalSummary", {
		"type": "serial",
		"responsive": {
			"enabled": true
		},
		"theme": "light",
		"dataProvider": [
			@foreach (var line in Model.MostSalesProduct.GroupBy(info => info.ProductsName).Select(group => new
			{
				Name = group.Key,
				Count = group.Count(),
			}).OrderByDescending(x => x.Count).Take(15))
			{

					<text>
					{
						"country": '@line.Name',
						"visits": @line.Count,

					},
				</text>
			}
		],
		"valueAxes": [{
			"gridColor": "#FFFFFF",
			"gridAlpha": 0.2,
			"dashLength": 0
		}],
		"gridAboveGraphs": true,
		"startDuration": 1,
		"graphs": [{
			"balloonText": "[[category]]: <b>[[value]]</b>",
			"fillAlphas": 0.8,
			"lineAlpha": 0.2,
			"type": "column",
			"valueField": "visits"
		}],
		"chartCursor": {
			"categoryBalloonEnabled": false,
			"cursorAlpha": 0,
			"zoomable": false
		},
		"categoryField": "country",
		"categoryAxis": {
			"gridPosition": "start",
			"gridAlpha": 0,
			"autoWrap": true
		},
		"marginLeft": 100,
		"export": {
			"enabled": true
		}

	});

	//Mediawise Sales Pie Chart
	var chart = AmCharts.makeChart("MediawiseSales", {
		"type": "pie",
		"responsive": {
			"enabled": true
		},
		"theme": "light",
		"labelText": "[[title]]\n([[value]], Amt:[[sum]])",
		"autoMargins": false,
		"marginTop": 0,
		"marginBottom": 0,
		"marginLeft": 0,
		"marginRight": 0,
		"pullOutRadius":15,
		"dataProvider":[
		@foreach (var item in Model.SalesSource.GroupBy(y => y.Source).Select(y => new { Source = y.Key, Count = y.Count(), Sum = ((int)y.Sum(x => x.Total)).ToString("0,0##.##")}).OrderByDescending(z => z.Count).ToList())
		{
			<text>
			{
				"title": '@item.Source',
				"value": '@item.Count',
				"sum":'@item.Sum'
			},
			</text>
		}
		],
		"valueField": "value",
		"titleField": "title",
		"balloonText": "[[title]]\n(Count:[[value]], Amt:[[sum]])",
		"balloon": {
			"fixedPosition": true
		},
		"export": {
			"enabled": true
		},
		"listeners": [{
			"event": "init",
			"method": function (event) {
				// apply slice colors to their labels
				var chart = event.chart;
				if (chart.labelColorField === undefined)
					chart.labelColorField = "labelColor";
				for (var i = 0; i < chart.chartData.length; i++) {
					chart.dataProvider[i][chart.labelColorField] = chart.chartData[i].color;
				}
				chart.validateData();
				chart.animateAgain();
			}
		}]
	});


//DivisionwiseSalesAnalysis 3D Donut Chart
	var chart = AmCharts.makeChart("DivisionwiseSalesAnalysis", {
		"type": "pie",
		"responsive": {
			"enabled": true
		},
		"theme": "light",
		"labelRadius": -35,
		"labelText": "[[title]]:[[value]]",
		"autoMargins": false,
		"marginTop": 0,
		"marginBottom": 0,
		"marginLeft": 0,
		"marginRight": 0,
		"pullOutRadius": 15,
		"titles": [{
			"text": "",
			"size": 16
		}],
		"dataProvider": [
			@foreach (var line in Model.ProductwiseDivisionSales.GroupBy(info => info.ProductsDivisionId).Select(group => new
			{
				DivID = group.Key,
				Count = group.Count()
			}))
			{

					<text>
					{
						"country": '@Model.DivisionList.FirstOrDefault(x => x.Id == line.DivID).ProductsDivision',
						"visits": @line.Count,

					},
				</text>
			}
			],
		"valueField": "visits",
		"titleField": "country",
		"startEffect": "elastic",
		"startDuration": 2,
		"labelRadius": 15,
		"innerRadius": "50%",
		"depth3D": 10,
		//"balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
		"balloonText": "[[title]]:<span style='font-size:14px'><b>[[percents]]%</b>([[value]])</span>",
		"angle": 15,
		"export": {
			"enabled": true
		}
	});


	//WeeklyProductComparisonSales 3D Stacked Column Chart
	var Weeklychart = AmCharts.makeChart("WeeklyProductComparisonSales", {
		"theme": "light",
		"responsive": {
			"enabled": true
		},
		"type": "serial",
		"dataProvider": [{
			"country": "USA",
			"year2004": 3.5,
			"year2005": 4.2
		}, {
			"country": "UK",
			"year2004": 1.7,
			"year2005": 3.1
		}, {
			"country": "Canada",
			"year2004": 2.8,
			"year2005": 2.9
		}, {
			"country": "Japan",
			"year2004": 2.6,
			"year2005": 2.3
		}, {
			"country": "France",
			"year2004": 1.4,
			"year2005": 2.1
		}, {
			"country": "Brazil",
			"year2004": 2.6,
			"year2005": 4.9
		}, {
			"country": "Russia",
			"year2004": 6.4,
			"year2005": 7.2
		}, {
			"country": "India",
			"year2004": 8,
			"year2005": 7.1
		}, {
			"country": "China",
			"year2004": 9.9,
			"year2005": 10.1
		}],
		"valueAxes": [{
			"stackType": "3d",
			"unit": "%",
			"position": "left",
			"title": "GDP growth rate",
		}],
		"startDuration": 1,
		"graphs": [{
			"balloonText": "GDP grow in [[category]] (2004): <b>[[value]]</b>",
			"fillAlphas": 0.9,
			"lineAlpha": 0.2,
			"title": "2004",
			"type": "column",
			"valueField": "year2004"
		}, {
			"balloonText": "GDP grow in [[category]] (2005): <b>[[value]]</b>",
			"fillAlphas": 0.9,
			"lineAlpha": 0.2,
			"title": "2005",
			"type": "column",
			"valueField": "year2005"
		}],
		"plotAreaFillAlphas": 0.1,
		"depth3D": 60,
		"angle": 30,
		"categoryField": "country",
		"categoryAxis": {
			"gridPosition": "start"
		},
		"export": {
			"enabled": true
		}
	});
	jQuery('.chart-input').off().on('input change', function () {
		var property = jQuery(this).data('property');
		var target = chart;
		Weeklychart.startDuration = 0;

		if (property == 'topRadius') {
			target = Weeklychart.graphs[0];
			if (this.value == 0) {
				this.value = undefined;
			}
		}

		target[property] = this.value;
		Weeklychart.validateNow();
	});

	//CashCreditSalesAnalysis Stacked bar chart with negative values
	var chart = AmCharts.makeChart("CashCreditSalesAnalysis", {
		"type": "serial",
		"responsive": {
			"enabled": true,
			"addDefaultRules": false,
			"rules": [
				{
					"maxWidth": 400,
					"overrides": {
						"legend": {
							"enabled": false
						}
					}
				}
			]
		},
		"theme": "light",
		"rotate": true,
		"marginBottom": 50,
		"dataProvider": [
		@{ var dt = DateTime.Now;}
			@for (int i = 1; i < DateTime.DaysInMonth(DateTime.Now.Year, DateTime.Now.Month); i++)
			{
				//'@Model.QuotationWonLost.Where(x => x.Date == itm).Where(y => y.ClosingType == (AdvanceCRM.Masters.ClosingTypeMaster)1).Count()'   .Where(z => z.ClosingType == (Masters.ClosingTypeMaster)1),
				var age = dt.ToShortDateString();
				var male = Model.SalesAnalysisList.Where(x => x.Date.Value.ToShortDateString() == dt.ToShortDateString()).Where(z => z.Type == (AdvanceCRM.Masters.InvoiceTypeMaster)1).Select(x => x.Id).Count();
				var female = Model.SalesAnalysisList.Where(x => x.Date.Value.ToShortDateString() == dt.ToShortDateString()).Where(z => z.Type == (AdvanceCRM.Masters.InvoiceTypeMaster)2).Select(x => x.Id).Count();
					<text>
					{
						"age": '@dt.ToString("dd MMM")',
						"male": -@male, //This Month
						"female": @female, //Last Month
					},
					</text>
				dt = dt.AddDays(-1);
			}

			],
		"startDuration": 1,
		"graphs": [{
			"fillAlphas": 0.8,
			"lineAlpha": 0.2,
			"type": "column",
			"valueField": "male",
			"title": "Male",
			"labelText": "[[value]]",
			"clustered": false,
			"labelFunction": function (item) {
				return Math.abs(item.values.value);
			},
			"balloonFunction": function (item) {
				return item.category + ": " + Math.abs(item.values.value);
			}
		}, {
			"fillAlphas": 0.8,
			"lineAlpha": 0.2,
			"type": "column",
			"valueField": "female",
			"title": "Female",
			"labelText": "[[value]]",
			"clustered": false,
			"labelFunction": function (item) {
				return Math.abs(item.values.value);
			},
			"balloonFunction": function (item) {
				return item.category + ": " + Math.abs(item.values.value);
			}
		}],
		"categoryField": "age",
		"categoryAxis": {
			"gridPosition": "start",
			"gridAlpha": 0.2,
			"axisAlpha": 0
		},
		"valueAxes": [{
			"gridAlpha": 0,
			"ignoreAxisWidth": true,
			"labelFunction": function (value) {
				return Math.abs(value);
			},
			"guides": [{
				"value": 0,
				"lineAlpha": 0.2
			}]
		}],
		"balloon": {
			"fixedPosition": true
		},
		"chartCursor": {
			"valueBalloonsEnabled": false,
			"cursorAlpha": 0.05,
			"fullWidth": true
		},
		"allLabels": [{
			"text": "Cash", //Male
			"x": "28%",
			"y": "97%",
			"bold": true,
			"align": "middle"
		}, {
			"text": "Credit", //Female
			"x": "75%",
			"y": "97%",
			"bold": true,
			"align": "middle"
		}],
		"export": {
			"enabled": true
		}

	});


	//MonthlySales Line with different colors for ups and downs
	var MonthlySaleschartData = generatechartData();

	function generatechartData() {
		var MonthlySaleschartData = [];

		@foreach (var line in Model.SalesAnalysisYearlyList.GroupBy(info => info.Date).Select(group => new
		{
			Name = group.Key,
			Sum = (int)group.Sum(x=>x.Total)
		}))
		{
			<text>
				MonthlySaleschartData.push({
				date: '@line.Name',
				visits: '@line.Sum'
				});
			</text>
		}

		return MonthlySaleschartData;
	}


	if ((@Model.LastthreeMonthsSalesAnalysisList.Count() > 0))
	{
		$("#lblMsgMonthsSalesAnalysis").text("");
	}

	var chart = AmCharts.makeChart("YearlySales", {
		"theme": "light",
		"responsive": {
			"enabled": true
		},
		"type": "serial",
		"marginRight": 80,
		"autoMarginOffset": 20,
		"marginTop": 20,
		"dataProvider": MonthlySaleschartData,
		"valueAxes": [{
			"id": "v1",
			"axisAlpha": 0.1
		}],
		"graphs": [{
			"useNegativeColorIfDown": true,
			"balloonText": "[[category]]<br><b>value: [[value]]</b>",
			"bullet": "round",
			"bulletBorderAlpha": 1,
			"bulletBorderColor": "#FFFFFF",
			"hideBulletsCount": 50,
			"lineThickness": 2,
			"lineColor": "#fdd400",
			"negativeLineColor": "#67b7dc",
			"valueField": "visits"
		}],
		"chartScrollbar": {
			"scrollbarHeight": 5,
			"backgroundAlpha": 0.1,
			"backgroundColor": "#868686",
			"selectedBackgroundColor": "#67b7dc",
			"selectedBackgroundAlpha": 1
		},
		"chartCursor": {
			"valueLineEnabled": true,
			"valueLineBalloonEnabled": true
		},
		"categoryField": "date",
		"categoryAxis": {
			"parseDates": true,
			"axisAlpha": 0,
			"minHorizontalGap": 60
		},
		"export": {
			"enabled": true
		}
	});

	chart.addListener("dataUpdated", zoomChart);
	//zoomChart();

	function zoomChart() {
		if (chart.zoomToIndexes) {
			chart.zoomToIndexes(130, MonthlySaleschartData.length - 1);
		}
	}

	//MonthwiseSalesComparison Multiple Value Axes
	var MonthwiseSalesComparisonchartData = MonthwiseSalesComparisongenerateChartData();
	var Monthwisechart = AmCharts.makeChart("MonthwiseSalesComparison", {
		"type": "serial",
		"theme": "light",
		"legend": {
			"useGraphSettings": true
		},
		"dataProvider": MonthwiseSalesComparisonchartData,
		"synchronizeGrid": true,
		"valueAxes": [{
			"id": "v1",
			"axisColor": "#FF6600",
			"axisThickness": 2,
			"axisAlpha": 1,
			"position": "left"
		}, {
			"id": "v2",
			"axisColor": "#FCD202",
			"axisThickness": 2,
			"axisAlpha": 1,
			"position": "right"
		}, {
			"id": "v3",
			"axisColor": "#B0DE09",
			"axisThickness": 2,
			"gridAlpha": 0,
			"offset": 50,
			"axisAlpha": 1,
			"position": "left"
		}],
		"graphs": [{
			"valueAxis": "v1",
			"lineColor": "#FF6600",
			"bullet": "round",
			"bulletBorderThickness": 1,
			"hideBulletsCount": 30,
			"title": "red line",
			"valueField": "visits",
			"fillAlphas": 0
		}, {
			"valueAxis": "v2",
			"lineColor": "#FCD202",
			"bullet": "square",
			"bulletBorderThickness": 1,
			"hideBulletsCount": 30,
			"title": "yellow line",
			"valueField": "hits",
			"fillAlphas": 0
		}, {
			"valueAxis": "v3",
			"lineColor": "#B0DE09",
			"bullet": "triangleUp",
			"bulletBorderThickness": 1,
			"hideBulletsCount": 30,
			"title": "green line",
			"valueField": "views",
			"fillAlphas": 0
		}],
		"chartScrollbar": {},
		"chartCursor": {
			"cursorPosition": "mouse"
		},
		"categoryField": "date",
		"categoryAxis": {
			"parseDates": true,
			"axisColor": "#DADADA",
			"minorGridEnabled": true
		},
		"export": {
			"enabled": true,
			"position": "bottom-right"
		}
	});

	Monthwisechart.addListener("dataUpdated", MonthwiseSalesComparisonzoomChart);
	MonthwiseSalesComparisonzoomChart();


	// generate some random data, quite different range
	function MonthwiseSalesComparisongenerateChartData() {
		var MonthwiseSalesComparisonchartData = [];

		var firstDate = new Date();

		@{var Monthdate = DateTime.Now;}

		@for(int i = 0; i < 30; i++)
			{
				var sumoftot1 = (int)Model.LastthreeMonthsSalesAnalysisList.Where(x => x.Date.Value.ToShortDateString() == Monthdate.ToShortDateString()).Sum(x => x.Total);
				var sumoftot2 = (int)Model.LastthreeMonthsSalesAnalysisList.Where(x => x.Date.Value.ToShortDateString() == Monthdate.AddMonths(-1).ToShortDateString()).Sum(x => x.Total);
				var sumoftot3 = (int)Model.LastthreeMonthsSalesAnalysisList.Where(x => x.Date.Value.ToShortDateString() == Monthdate.AddMonths(-2).ToShortDateString()).Sum(x => x.Total);

				var Date_t = Monthdate.ToLocalTime();

			<text>
				MonthwiseSalesComparisonchartData.push({
				date: firstDate,
				visits:@sumoftot1,
				hits:@sumoftot2,
				views:@sumoftot3,
				});

				firstDate.setDate(firstDate.getDate() - 1);
			</text>
			Monthdate = Monthdate.AddDays(-1);
		}

	   return MonthwiseSalesComparisonchartData;
	}

	function MonthwiseSalesComparisonzoomChart() {
		Monthwisechart.zoomToIndexes(Monthwisechart.dataProvider.length - 20, Monthwisechart.dataProvider.length - 1);
	}


	//CitywiseSales Chart
	var citychart = AmCharts.makeChart("CitywiseSalesAnalysis", {
			"type": "pie",
			"startDuration": 0,
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"addClassNames": true,
			"legend": {
				"position": "right",
				"marginRight": 100,
				"autoMargins": false
			},
			"innerRadius": "30%",
			"defs": {
				"filter": [{
					"id": "shadow",
					"width": "200%",
					"height": "200%",
					"feOffset": {
						"result": "offOut",
						"in": "SourceAlpha",
						"dx": 0,
						"dy": 0
					},
					"feGaussianBlur": {
						"result": "blurOut",
						"in": "offOut",
						"stdDeviation": 5
					},
					"feBlend": {
						"in": "SourceGraphic",
						"in2": "blurOut",
						"mode": "normal"
					}
				}]
			},
			"dataProvider":[
			@foreach (var item in Model.CitywiseSalesList.GroupBy(y => y.ContactsCityId).Select(y => new { CityId = y.Key, Count = y.Count(), Sum = (int)y.Sum(x => x.Total) }).OrderByDescending(z => z.Count).ToList())
			{

				<text>
				{
					@{
						var cityid = "City not selected";
						if(item.CityId.HasValue == true)
						{
							cityid = Model.City.SingleOrDefault(x => x.Id == item.CityId).City;
						}
					}
					"country": '@cityid',
					"litres": '@item.Count',
					"sum" :'@item.Sum'
				},
				</text>
			}
			],
			"valueField": "litres",
			"titleField": "country",
			"labelText": "[[country]]([[litres]], Amt:[[sum]])",
			"balloonText": "[[country]](Count:[[litres]], Amt:[[sum]])",
			"autoMargins": false,
			"marginTop": 0,
			"marginBottom": 0,
			"marginLeft": 0,
			"marginRight": 0,
			"pullOutRadius": 10,
			"export": {
				"enabled": true
			}
	});

	citychart.addListener("init", handleInit);

	citychart.addListener("rollOverSlice", function (e) {
		handleRollOver(e);
	});

	function handleInit() {
		citychart.legend.addListener("rollOverItem", handleRollOver);
	}

	function handleRollOver(e) {
		var wedge = e.dataItem.wedge.node;
		wedge.parentNode.appendChild(wedge);
	}

	//Branchwise Sales Chart
	var chart = AmCharts.makeChart("BranchwiseSales", {
			"theme": "light",
			"type": "serial",
			"startDuration": 2,
			"dataProvider":[
			@foreach (var item in Model.BranchwiseSalesList.GroupBy(y => y.BranchId).Select(y => new { BranchID = y.Key, Count = y.Count(), Sum = (int)y.Sum(x => x.Total) }).OrderByDescending(z => z.Count).ToList())
			{

				<text>
				{
					@{  var branchid = "Branch N/A";
						if(item.BranchID.HasValue == true)
						{
							branchid = Model.Branch.SingleOrDefault(x => x.Id ==        item.BranchID).Branch;
						}
					}
					"country": '@branchid'+'\n'+'(Amt:@item.Sum)',
					"visits": '@item.Count',
					"sum" :'@item.Sum'
				},
				</text>
			}
			],
			"valueAxes": [{
				"position": "left",
				"title": "Count"
			}],
			"responsive": {
				"enabled": true
			},
			"graphs": [{
				"balloonText": "[[category]]: <b>[[value]]</b>",
				"autoColor":true,
				"fillColorsField": "color",
				"fillAlphas": 1,
				"lineAlpha": 0.1,
				"type": "column",
				"valueField": "visits"
			}],
			"depth3D": 20,
			"angle": 30,
			"chartCursor": {
				"categoryBalloonEnabled": false,
				"cursorAlpha": 0,
				"zoomable": false
			},
			"categoryField": "country",
			"categoryAxis": {
				"gridPosition": "start",
				"labelRotation": 90
			},
			"export": {
				"enabled": true
			}

	});

	//OverallTargetSales Animated gauge
	$(function () {

		$("#ReqTCnt").text(@Model.RequiredTargetCount);
		$("#AchTarCnt").text(@Model.AchievedTargetCount);

		var chartGuage = AmCharts.makeChart("OverallTargetSales", {
			"theme": "light",
			"type": "gauge",
			"responsive": {
				"enabled": true
			},
			"axes": [{
				"topTextFontSize": 20,
				"topTextYOffset": 70,
				"axisColor": "#31d6ea",
				"axisThickness": 1,
				"endValue": 100,
				"gridInside": true,
				"inside": true,
				"radius": "50%",
				"valueInterval": 20,
				"tickColor": "#67b7dc",
				"startAngle": -90,
				"endAngle": 90,
				"unit": "%",
				"bandOutlineAlpha": 0,
				"bands": [{
					"color": "#0080ff",
					"endValue": 100,
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.1, 0, -0.1],
					"startValue": 0
				}, {
					"color": "#3cd3a3",
					"endValue": @Model.SalesTargetCount.ToString(), //Change here
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.1, 0, -0.1],
					"startValue": 0
				}]
			}],
			"arrows": [{
				"alpha": 1,
				"innerRadius": "35%",
				"nailRadius": 0,
				"radius": "170%"
			}],
			"export": {
				"enabled": true
			}
		});

		setInterval(randomValue1, 2000);


		function randomValue1() {
			var value = Math.round(@Model.SalesTargetCount.ToString()); //and here
			chartGuage.arrows[0].setValue(value);
			chartGuage.axes[0].setTopText(value + " %");

                        chartGuage.axes[0].bands[1].endValue = value;
                        chartGuage.validateNow();
		}
	});


	$(function () {

		$("#ReqTAmt").text(@Model.RequiredTargetAmount);
		$("#AchTarAmt").text(@Model.AchievedTargetAmount);
		//OverallTargetSalesAmt Animated gauge
		var chartEnqAmt = AmCharts.makeChart("OverallTargetSalesAmt", {
			"theme": "light",
			"type": "gauge",
			"responsive": {
				"enabled": true
			},
			"axes": [{
				"topTextFontSize": 20,
				"topTextYOffset": 70,
				"axisColor": "#31d6ea",
				"axisThickness": 1,
				"endValue": 100,
				"gridInside": true,
				"inside": true,
				"radius": "50%",
				"valueInterval": 20,
				"tickColor": "#67b7dc",
				"startAngle": -90,
				"endAngle": 90,
				"unit": "%",
				"bandOutlineAlpha": 0,
				"bands": [{
					"color": "#0080ff",
					"endValue": 100,
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.5, 0, -0.5],
					"startValue": 0
				}, {
					"color": "#3cd3a3",
					"endValue": @Model.SalesTargetAmount.ToString(), //Change here
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.5, 0, -0.5],
					"startValue": 0
				}]
			}],
			"arrows": [{
				"alpha": 1,
				"innerRadius": "35%",
				"nailRadius": 0,
				"radius": "170%"
			}],
			"export": {
				"enabled": true
			}
		});


		setInterval(randomValueAmt, 2000);


		function randomValueAmt() {
			var value = Math.round(@Model.SalesTargetAmount.ToString()); //and here
			chartEnqAmt.arrows[0].setValue(value);
			chartEnqAmt.axes[0].setTopText(value + " %");

                        chartEnqAmt.axes[0].bands[1].endValue = value;
                        chartEnqAmt.validateNow();
		}
	});

</script>

<script>
	$(function ()
	{		//Start MostsalesProduct

					$('input[name="ProductwiseSalSummaryDateRange"]').daterangepicker({
					startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
					endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
					});

					$('input[name="ProductwiseSalSummaryDateRange"]').on('apply.daterangepicker', function (ev, picker) {
					var sDate = picker.startDate.format('MM/DD/YYYY');
					var eDate = picker.endDate.format('MM/DD/YYYY');

					$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
					$("#ProductwiseSalSummary").load('@Url.Action("MostSalesProductChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

						if (JSON.parse(data).length != 0) {
							$("#lblMsgProductwiseSalesSummary ").text("");
						}
						else {
							$("#lblMsgProductwiseSalesSummary").text("Data is not available for last 30 days,kindly select Date range");
						}
						var chart = AmCharts.makeChart("ProductwiseSalSummary", {
						"type": "serial",
						"responsive": {
							"enabled": true
						},
						"theme": "light",
						"dataProvider": JSON.parse(data),
						"valueAxes": [{
							"gridColor": "#FFFFFF",
							"gridAlpha": 0.2,
							"dashLength": 0
						}],
						"gridAboveGraphs": true,
						"startDuration": 1,
						"graphs": [{
							"balloonText": "[[category]]: <b>[[value]]</b>",
							"fillAlphas": 0.8,
							"lineAlpha": 0.2,
							"type": "column",
							"valueField": "visits"
						}],
						"chartCursor": {
							"categoryBalloonEnabled": false,
							"cursorAlpha": 0,
							"zoomable": false
						},
						"categoryField": "country",
						"categoryAxis": {
						"gridPosition": "start",
						"gridAlpha": 0,
						"autoWrap": true
						},
						"marginLeft": 100,
						"export": {
							"enabled": true
						}

					});

					});

			});
			//End of Most Sales Product



		  //Start of MediawiseSales
			//Date range picker for MediawiseSales
		$('input[name="MediawiseSalesDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change MediawiseSales
		$('input[name="MediawiseSalesDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#MediawiseSales").load('@Url.Action("MediawiseSalesChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
					if (JSON.parse(data).length != 0) {
						$("#lblMsgMediawiseSales").text("");
					}
					else
					{
						$("#lblMsgMediawiseSales").text("Data is not available for last 30 days,kindly select Date range");
					}

					var chart = AmCharts.makeChart("MediawiseSales", {
					"type": "pie",
					"responsive": {
						"enabled": true
					},
					"theme": "light",
					"labelText": "[[title]]\n([[value]], Amt:[[sum]])",
					"autoMargins": false,
					"marginTop": 0,
					"marginBottom": 0,
					"marginLeft": 0,
					"marginRight": 0,
					"pullOutRadius":15,
					"dataProvider":JSON.parse(data),
					"valueField": "value",
					"titleField": "title",
					"balloonText": "[[title]]\n(Count:[[value]], Amt:[[sum]])",
					"balloon": {
						"fixedPosition": true
					},
					"export": {
						"enabled": true
					},
					"listeners": [{
						"event": "init",
						"method": function (event) {
							// apply slice colors to their labels
							var chart = event.chart;
							if (chart.labelColorField === undefined)
								chart.labelColorField = "labelColor";
							for (var i = 0; i < chart.chartData.length; i++) {
								chart.dataProvider[i][chart.labelColorField] = chart.chartData[i].color;
							}
							chart.validateData();
							chart.animateAgain();
						}
					}]
				});


				});

			});
			//End of MediawiseSales

	 //Sales Status Pyramid
	//Date range picker for Sales Status Pyramid
		$('input[name="SalesStatusPyramidDateRange"]').daterangepicker({
		startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
		endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
	});

	//On date change Sales Status
	$('input[name="SalesStatusPyramidDateRange"]').on('apply.daterangepicker', function (ev, picker) {

		var sDate = picker.startDate.format('MM/DD/YYYY');
		var eDate = picker.endDate.format('MM/DD/YYYY');

		$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

		$("#SalesStatusPyramid").load('@Url.Action("SalesStatusChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

			if (JSON.parse(data) == "") {
				$("#lblMsgSalesStatusPyramid").text("Data is not available for last 30 days,kindly select Date range");
			}
			else {
				$("#lblMsgSalesStatusPyramid").text("");

			}
			var chart = AmCharts.makeChart("SalesStatusPyramid", {
				"type": "funnel",
				"theme": "light",
				"responsive": {
					"enabled": true
				},
				"dataProvider": JSON.parse(data),
				"balloon": {
					"fixedPosition": true
				},
				"valueField": "value",
				"titleField": "title",
				"marginRight": 240,
				"marginLeft": 50,
				"startX": -500,
				"rotate": true,
				"labelPosition": "right",
				"balloonText": "[[title]]: [[value]]",
				"export": {
					"enabled": true
				}
			});
		});

	});
	//End of Sales Status

	//Start ProductwiseDivisionQuotation
	 //Date range picker for ProductwiseDivisionQuotation
	$('input[name="ProductwiseDivisionSalesDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change Divisionwise Sales Analysis
			$('input[name="ProductwiseDivisionSalesDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#DivisionwiseSalesAnalysis").load('@Url.Action("ProductwiseDivisionSalesChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
				if (JSON.parse(data).length != 0) {
					$("#lblMsgProductwiseDivisionSales").text("");
				}
				else {
					$("#lblMsgProductwiseDivisionSales").text("Data is not available for last 30 days,kindly select Date range");
				}


				var chart = AmCharts.makeChart("DivisionwiseSalesAnalysis", {
					"type": "pie",
					"responsive": {
						"enabled": true
					},
					"theme": "light",
					"labelRadius": -35,
					"labelText": "[[title]]:[[value]]",
					"autoMargins": false,
					"marginTop": 0,
					"marginBottom": 0,
					"marginLeft": 0,
					"marginRight": 0,
					"pullOutRadius": 15,
					"titles": [{
						"text": "",
						"size": 16
					}],
					"dataProvider": JSON.parse(data),
					"valueField": "visits",
					"titleField": "country",
					"startEffect": "elastic",
					"startDuration": 2,
					"labelRadius": 15,
					"innerRadius": "50%",
					"depth3D": 10,
					"balloonText": "[[title]]:<span style='font-size:14px'><b>[[percents]]%</b>([[value]])</span>",
					"angle": 15,
					"export": {
						"enabled": true
					}
				});
			});

		});
		//End of Divisionwise Sales Analysis

	});


	$(function () {
			//Start CitywiseSales
			//Date range picker for CitywiseSales
		$('input[name="CitywiseSalesDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change CitywiseSales
		$('input[name="CitywiseSalesDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#CitywiseSalesAnalysis").load('@Url.Action("CitywiseSalesChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data).length != 0) {
						$("#lblCitywiseSalesAnalysis").text("");
						$("#lblCitywiseSalesAnalysis").hide();
					}
					else
					{
						$("#lblCitywiseSalesAnalysis").show();
						$("#lblCitywiseSalesAnalysis").text("Data is not available for last 30 days,kindly select Date range");

					}

					//CitywiseSalesAnalysis Pie chart
					var chart = AmCharts.makeChart("CitywiseSalesAnalysis", {
					"type": "pie",
					"startDuration": 0,
					"theme": "light",
					"responsive": {
						"enabled": true
					},
					"addClassNames": true,
					"legend": {
						"position": "right",
						"marginRight": 100,
						"autoMargins": false
					},
					"innerRadius": "30%",
					"defs": {
						"filter": [{
							"id": "shadow",
							"width": "200%",
							"height": "200%",
							"feOffset": {
								"result": "offOut",
								"in": "SourceAlpha",
								"dx": 0,
								"dy": 0
							},
							"feGaussianBlur": {
								"result": "blurOut",
								"in": "offOut",
								"stdDeviation": 5
							},
							"feBlend": {
								"in": "SourceGraphic",
								"in2": "blurOut",
								"mode": "normal"
							}
						}]
					},
					"dataProvider": JSON.parse(data),
					"valueField": "litres",
					"titleField": "country",
					"labelText": "[[country]]([[litres]], Amt:[[sum]])",
					"balloonText": "[[country]](Count:[[litres]], Amt:[[sum]])",
					"autoMargins": false,
					"marginTop": 0,
					"marginBottom": 0,
					"marginLeft": 0,
					"marginRight": 0,
					"pullOutRadius": 10,
					"export": {
						"enabled": true
					}
					});

					chart.addListener("init", handleInit);

					chart.addListener("rollOverSlice", function (e) {
						handleRollOver(e);
					});

					function handleInit() {
						chart.legend.addListener("rollOverItem", handleRollOver);
					}

					function handleRollOver(e) {
						var wedge = e.dataItem.wedge.node;
						wedge.parentNode.appendChild(wedge);
					}


				});

			});
			//End of CitywiseSalesAnalysis
	});


	$(function () {
		//Start BranchwiseQuotationDateRange
		//Date range picker for BranchwiseSalesDateRange
	$('input[name="BranchwiseSalesDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change BranchwiseSalesDateRange
		$('input[name="BranchwiseSalesDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#BranchwiseSales").load('@Url.Action("BranchwiseSalesChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

				if (JSON.parse(data).length != 0) {
					$("#lblBranchwiseSales").text("");
					$("#lblBranchwiseSales").hide();
				}
				else
				{
					$("#lblBranchwiseSales").show();
					$("#lblBranchwiseSales").text("Data is not available for last 30 days,kindly select Date range");

				}

			//BranchwiseSales
			var chart = AmCharts.makeChart("BranchwiseSales", {
			"theme": "light",
			"type": "serial",
			"startDuration": 2,
			"dataProvider": JSON.parse(data),
			"valueAxes": [{
				"position": "left",
				"title": "Count"
			}],
			"responsive": {
				"enabled": true
			},
			"graphs": [{
				"balloonText": "[[category]]: <b>[[value]]</b>",
				"autoColor":true,
				"fillColorsField": "color",
				"fillAlphas": 1,
				"lineAlpha": 0.1,
				"type": "column",
				"valueField": "visits"
			}],
			"depth3D": 20,
			"angle": 30,
			"chartCursor": {
				"categoryBalloonEnabled": false,
				"cursorAlpha": 0,
				"zoomable": false
			},
			"categoryField": "country",
			"categoryAxis": {
				"gridPosition": "start",
				"labelRotation": 90
			},
			"export": {
				"enabled": true
			}

	});


			});

		});
		//End of BranchwiseSales
	});



	$(function () {
		//Start OverallTargetSales
		//Date range picker for OverallTargetSales
		$('input[name="OverallTargetSalesDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change OverallTargetSales
		$('input[name="OverallTargetSalesDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#OverallTargetSales").load('@Url.Action("OverallTargetSalesChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

				if (JSON.parse(data).length != 0) {
					$("#lblMsgSalesTargetCount").text("");
					$("#lblMsgSalesTargetCount").hide();
				}
				else {
					$("#lblMsgSalesTargetCount").show();
					$("#lblMsgSalesTargetCount").text("Data is not available for last 30 days,kindly select Date range");

				}
				var Obj = JSON.parse(data);

				$("#ReqTCnt").text(Obj.RCnt);
				$("#AchTarCnt").text(Obj.ACnt);

				//OverallTargetSales Animated gauge
				var chartGuage = AmCharts.makeChart("OverallTargetSales", {
					"theme": "light",
					"type": "gauge",
					"axes": [{
						"topTextFontSize": 20,
						"topTextYOffset": 70,
						"axisColor": "#31d6ea",
						"axisThickness": 1,
						"endValue": 100,
						"gridInside": true,
						"inside": true,
						"radius": "50%",
						"valueInterval": 20,
						"tickColor": "#67b7dc",
						"startAngle": -90,
						"endAngle": 90,
						"unit": "%",
						"bandOutlineAlpha": 0,
						"bands": [{
							"color": "#0080ff",
							"endValue": 100,
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}, {
							"color": "#3cd3a3",
							"endValue": Obj.Percent, //Change here
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}]
					}],
					"arrows": [{
						"alpha": 1,
						"innerRadius": "35%",
						"nailRadius": 0,
						"radius": "170%"
					}]
				});

				setInterval(randomValueEnqd, 2000);


				function randomValueEnqd() {
					var value = Math.round(Obj.Percent); //and here
					chartGuage.arrows[0].setValue(value);
					chartGuage.axes[0].setTopText(value + " %");

                                        chartGuage.axes[0].bands[1].endValue = value;
                                        chartGuage.validateNow();
				}


			});

		});

		//End of OverallTargetSales
	});

	$(function () {
		//Start OverallTargetSalesAmt
		//Date range picker for OverallTargetSalesAmt
		$('input[name="OverallTargetSalesAmtDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change OverallTargetSalesAmt
		$('input[name="OverallTargetSalesAmtDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#OverallTargetSalesAmt").load('@Url.Action("OverallTargetSalesAmtChart", "SalesDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {


				if (JSON.parse(data).length != 0) {
					$("#lblMsgSalesTargetAmt").text("");
					$("#lblMsgSalesTargetAmt").hide();
				}
				else {
					$("#lblMsgSalesTargetAmt").show();
					$("#lblMsgSalesTargetAmt").text("Data is not available for last 30 days,kindly select Date range");

				}

				var obj = JSON.parse(data);

				$("#ReqTAmt").text(obj.RAmt);
				$("#AchTarAmt").text(obj.AAmt);

				//OverallTargetSalesAmt Animated gauge
				var chartAmt = AmCharts.makeChart("OverallTargetSalesAmt", {
					"theme": "light",
					"type": "gauge",
					"axes": [{
						"topTextFontSize": 20,
						"topTextYOffset": 70,
						"axisColor": "#31d6ea",
						"axisThickness": 1,
						"endValue": 100,
						"gridInside": true,
						"inside": true,
						"radius": "50%",
						"valueInterval": 20,
						"tickColor": "#67b7dc",
						"startAngle": -90,
						"endAngle": 90,
						"unit": "%",
						"bandOutlineAlpha": 0,
						"bands": [{
							"color": "#0080ff",
							"endValue": 100,
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}, {
							"color": "#3cd3a3",
							"endValue": obj.Per, //Change here
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}]
					}],
					"arrows": [{
						"alpha": 1,
						"innerRadius": "35%",
						"nailRadius": 0,
						"radius": "170%"
					}]
				});

				setInterval(randomValueEnqAmtd, 2000);


				function randomValueEnqAmtd() {
					//alert(data);
					var value = Math.round(obj.Per); //and here
					chartAmt.arrows[0].setValue(value);
					chartAmt.axes[0].setTopText(value + " %");

                                        chartAmt.axes[0].bands[1].endValue = value;
                                        chartAmt.validateNow();
				}


			});

		});

		//End of OverallTargetSalesAmt
	});

</script>

<!-- HTML -->
<body style='background:lightgrey;'>
    @Html.HiddenFor(m => m.StartDate)
    @Html.HiddenFor(m => m.EndDate)
    <div>
        <br />
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="SalesStatusPyramidDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Sales Status</strong>
                        <div id="SalesStatusPyramid"></div>
                        @if ((Model.TotalSalesTypes == 0) && (Model.SalesStatusOpen == 0) && (Model.SalesStatusClosed == 0) && (Model.SalesStatusPending == 0))
						{
                        <label id="lblMsgSalesStatusPyramid">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="ProductwiseDivisionSalesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Divisionwise Sales Analysis</strong>
                        <div id="DivisionwiseSalesAnalysis"></div>
                        @if ((Model.ProductwiseDivisionSales.Count() == 0))
						{
                        <label id="lblMsgProductwiseDivisionSales">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <strong>Yearly Sales</strong>
                        <div id="YearlySales"></div>
                        @if ((Model.LastthreeMonthsSalesAnalysisList.Count() == 0))
						{
                        <label id="lblMsgMonthsSalesAnalysis">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row" hidden>
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" data-backdrop="true" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <strong>Last month and Current month Sales Comparison</strong>
                        <div id="MonthwiseSalesComparison"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="ProductwiseSalSummaryDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Productwise Sales Summary (Top 15 Product)</strong>
                        <div id="ProductwiseSalSummary"></div>
                        @if (Model.MostSalesProduct.Count() == 0)
						{
                        <label id="lblMsgProductwiseSalesSummary">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="MediawiseSalesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Mediawise Sales</strong>
                        <div id="MediawiseSales"></div>
                        @if (Model.SalesSource.Count() == 0)
						{
                        <label id="lblMsgMediawiseSales">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <strong>Cash Credit Sales Analysis (Last 30 Days)</strong>
                        <div id="CashCreditSalesAnalysis"></div>
                        @if (Model.SalesAnalysisList.Count() == 0)
						{
                        <label id="lblMsgSalesAnalysisList">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="CitywiseSalesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Citywise Sales Analysis</strong>
                        <div id="CitywiseSalesAnalysis"></div>
                        @if (Model.CitywiseSalesList.Count() == 0)
						{
                        <label id="lblCitywiseSalesAnalysis">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>                                                                                                     <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="OverallTargetSalesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Overall Company Target Achivement for Sales (Count)</strong>
                        <div id="OverallTargetSales"></div>
                        <div style='text-align:center;'>
                            <label>(Target: <label id="ReqTCnt"></label>,  Achieved: <label id="AchTarCnt"></label></label>)
                        </div>
                        @if (Model.SalesTargetCount <= 0)
						{
                        <label id="lblMsgSalesTargetCount">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="OverallTargetSalesAmtDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Overall Company's Target Achievement for Sales (Amount)</strong>
                        <div id="OverallTargetSalesAmt"></div>

                        <div style='text-align:center;'>
                            <label>(Target: <label id="ReqTAmt"></label>,  Achieved: <label id="AchTarAmt"></label></label>)
                        </div>

                        @if (Model.SalesTargetAmount <= 0)
	{

                        <label id="lblMsgSalesTargetAmt">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="BranchwiseSalesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Branchwise Sales Analysis</strong>
                        <div id="BranchwiseSales"></div>
                        @if (Model.BranchwiseSalesList.Count() == 0)
						{
                        <label id="lblBranchwiseSales">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not                                  available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>