@model AdvanceCRM.Modules.EnquiryDashboardPageModel


@{
	ViewBag.Title = "EnquiryDashboard";
}
<h2>Enquiry</h2>
<!-- Styles -->
<style>
    #EnquiryStagesFunnel {
        width: 100%;
        height: 250px;
    }

    #EnquiryAnalysisPyramid {
        width: 100%;
        height: 250px;
    }

    #EnquiryStatus {
        width: 100%;
        height: 360px;
    }

    #MostEnquiryProduct {
        width: 100%;
        height: 300px;
    }

    #LeastEnquiredProduct {
        width: 100%;
        height: 300px;
    }

    #EnquiryTypes {
        width: 100%;
        height: 350px;
        margin: auto;
    }

    #MediawiseEnquiry {
        width: 100%;
        height: 360px;
    }

    #ProductwiseDivisionEnquiry {
        width: 100%;
        height: 350px;
    }

    #MonthlyEnquiryAnalysis {
        width: 100%;
        height: 550px;
    }

    #OverallTargetEnquiry {
        width: 100%;
        height: 300px;
    }

    #OverallTargetEnquiryAmt {
        width: 100%;
        height: 300px;
        font-size: 11px;
    }

    #WeeklyWonLossAnalysis {
        width: 100%;
        height: 300px;
    }

    #CitywiseEnquiry {
        width: 100%;
        height: 550px;
        font-size: 11px;
    }

    #BranchwiseEnquiry {
        width: 100%;
        height: 300px;
    }


    .amcharts-pie-slice {
        transform: scale(1);
        transform-origin: 50% 50%;
        transition-duration: 0.3s;
        transition: all .3s ease-out;
        -webkit-transition: all .3s ease-out;
        -moz-transition: all .3s ease-out;
        -o-transition: all .3s ease-out;
        cursor: pointer;
        box-shadow: 0 0 30px 0 #000;
    }

        .amcharts-pie-slice:hover {
            transform: scale(1.1);
            filter: url(#shadow);
        }
</style>


<link rel="stylesheet" href="~/Scripts/daterangepicker/daterangepicker-bs3.css" />
<link rel="stylesheet" href="~/Content/iCheck/all.css" />
<link rel="stylesheet" href="~/Scripts/colorpicker/bootstrap-colorpicker.min.css" />
<link rel="stylesheet" href="~/Scripts/timepicker/bootstrap-timepicker.min.css" />

<script src="~/Scripts/input-mask/jquery.inputmask.js"></script>
<script src="~/Scripts/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="~/Scripts/input-mask/jquery.inputmask.extensions.js"></script>
<script src="~/Scripts/daterangepicker/moment.min.js"></script>
<script src="~/Scripts/daterangepicker/daterangepicker.js"></script>
<script src="~/Scripts/colorpicker/bootstrap-colorpicker.min.js"></script>
<script src="~/Scripts/timepicker/bootstrap-timepicker.min.js"></script>
<script src="~/Scripts/jquery.icheck.min.js"></script>
<script src="~/Scripts/adminlte/demo.js"></script>
<!-- Resources -->
@*<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>*@
<script src="~/amcharts/amcharts.js"></script>
@*3D PIE CHART,3D Donut Chart,Simple Pie Chart*@
<script src="~/amcharts/pie.js"></script>
@*3D FUNNEL AND PYRAMID*@
<script src="~/amcharts/funnel.js"></script>
@*3D Cylinder Chart,Stacked bar chart with negative values,Column and Line mix,Reversed Value Axis*@
<script src="~/amcharts/serial.js"></script>
@*Solid Gauge,Animated gauge*@
<script src="~/amcharts/gauge.js"></script>
<script src="~/amcharts/plugins/export/export.min.js"></script>
<link href="~/amcharts/plugins/export/export.css" rel="stylesheet" type="text/css" media="all" />
<script src="~/amcharts/themes/light.js"></script>
<script src="~/amcharts/plugins/responsive/responsive.min.js"></script>




<!-- Chart code -->
<script type="text/javascript">
	//EnquiryStagesFunnel
	var chart = AmCharts.makeChart("EnquiryStagesFunnel", {
		"type": "funnel",
		"theme": "light",
		"responsive": {
			"enabled": true
		},
		"dataProvider": [
			@foreach (var item in Model.EnquiryStages.GroupBy(y => y.Stage).Select(y => new { Stage = y.Key, Count = y.Count(), Sum = ((int)y.Sum(x => x.Total)).ToString("0,0##.##") }).OrderByDescending(z => z.Count).ToList())
			{
				<text>
				{
					"title": '@item.Stage',
					"value": '@item.Count',
					"sum" :'@item.Sum'
				},
				</text>
			}
			],
			"balloon": {
				"fixedPosition": true
			},
			"valueField": "value",
			"labelText": "[[title]]([[value]], Amt:[[sum]])",
			"titleField": "title",
			"marginRight": 240,
			"marginLeft": 50,
			"startX": -500,
			"depth3D": 100,
			"angle": 40,
			"outlineAlpha": 1,
			"outlineColor": "#FFFFFF",
			"outlineThickness": 2,
			"labelPosition": "right",
			"balloonText": "[[title]](Count:[[value]], Amt:[[sum]])",
			"export": {
				"enabled": true
			}
		});


		//Enquiry Analysis Pyramid
		var chart = AmCharts.makeChart("EnquiryAnalysisPyramid", {
			"type": "funnel",
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"dataProvider": [{
				"title": "Total",
				"value": '@Model.TotalEnquiryTypes'
				@*"sum":  (int)@Model.TotalEnquiryTypes.(x => x.Total)*@
			},
			{
				"title": "Open",
				"value": '@Model.EnquiryStatusOpen'
			},
			{
				"title": "Closed",
				"value": '@Model.EnquiryStatusClosed'
			},
			{
				"title": "Pending",
				"value": '@Model.EnquiryStatusPending'
			},
			{
				"title": "Won",
				"value": '@Model.EnquiryWon'
			}, {
				"title": "Lost",
				"value": '@Model.EnquiryLost'
			}],

			"balloon": {
				"fixedPosition": true
			},
			"valueField": "value",
			"titleField": "title",
			"marginRight": 240,
			"marginLeft": 50,
			"startX": -500,
			"rotate": true,
			"labelPosition": "right",
			"balloonText": "[[title]]: [[value]]",
			"export": {
				"enabled": true
			}
		});

		//Enquiry Status 3D PIE CHART
		var chart = AmCharts.makeChart("EnquiryStatus", {
			"type": "pie",
			"theme": "light",
			"labelText": "[[title]]:[[value]]",
			"autoMargins": false,
			"marginTop": 0,
			"marginBottom": 0,
			"marginLeft": 0,
			"marginRight": 0,
			"pullOutRadius":20,
			"responsive": {
				"enabled": true
			},
			"dataProvider": [{
				"country": "Open",
				"value": '@Model.EnquiryStatusOpen'
			}, {
				"country": "Closed",
				"value": '@Model.EnquiryStatusClosed'
			}, {
				"country": "Pending",
				"value": '@Model.EnquiryStatusPending'
			}],
			"valueField": "value",
			"titleField": "country",
			"outlineAlpha": 0.4,
			"depth3D": 15,
			"balloonText": "[[title]]:<span style='font-size:14px'><b>[[percents]]%</b>([[value]])</span>",
			"angle": 30,
			"export": {
				"enabled": true
			}
		});

		AmCharts.addInitHandler(function (chart) {
			// check if there are graphs with autoColor: true set
			for (var i = 0; i < chart.graphs.length; i++) {
				var graph = chart.graphs[i];
				if (graph.autoColor !== true)
					continue;
				var colorKey = "autoColor-" + i;
				graph.lineColorField = colorKey;
				graph.fillColorsField = colorKey;
				for (var x = 0; x < chart.dataProvider.length; x++) {
					var color = chart.colors[x]
					chart.dataProvider[x][colorKey] = color;
				}
			}

		}, ["serial"]);


		//MostEnquiredProduct 3D Cylinder Chart
		var chart = AmCharts.makeChart("MostEnquiryProduct", {
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"type": "serial",
			"startDuration": 2,
			"dataProvider": [
				@foreach (var line in Model.MostEnquiryProduct.GroupBy(info => info.ProductsName).Select(group => new
				{
					Name = group.Key,
					Count = group.Count(),
					Sum = group.Sum(x => x.Quantity)
				}).OrderByDescending(x => x.Count).Take(15))
				{

					 <text>
						{
							"country": '@line.Name',
							"visits": @line.Count,

						},
					</text>
				}
				],
			"valueAxes": [{
				"position": "left",
				"axisAlpha": 0,
				"gridAlpha": 0
			}],
			"graphs": [{
				"balloonText": "[[category]]: <b>[[value]]</b>",
				"autoColor": true,
				"fillAlphas": 0.85,
				"lineAlpha": 0.1,
				"type": "column",
				"topRadius": 1,
				"valueField": "visits"
			}],
			"depth3D": 40,
			"angle": 30,
			"chartCursor": {
				"categoryBalloonEnabled": false,
				"cursorAlpha": 0,
				"zoomable": false
			},
			"categoryField": "country",
			"categoryAxis": {
				"gridPosition": "start",
				"gridAlpha": 0,
				"autoWrap": true
			},
			"marginLeft": 100,
			"export": {
				"enabled": true
			}
		}, 0);

		//LeastEnquiredProduct 3D Cylinder Chart
		var chart = AmCharts.makeChart("LeastEnquiredProduct", {
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"type": "serial",
			"startDuration": 2,
			"dataProvider": [
				@foreach (var line in Model.LeastEnquiryProduct.GroupBy(info => info.ProductsName).Select(group => new
				{
					Name = group.Key,
					Count = group.Count(),
					Sum = group.Sum(x => x.Quantity)
				}).OrderBy(x => x.Count).Take(15))
				{

					 <text>
						{
							"country": '@line.Name',
							"visits": @line.Count,

						},
					</text>
				}
				],
			"valueAxes": [{
				"position": "left",
				"axisAlpha": 0,
				"gridAlpha": 0
			}],
			"graphs": [{
				"balloonText": "[[category]]: <b>[[value]]</b>",
				"autoColor": true,
				"fillAlphas": 0.85,
				"lineAlpha": 0.1,
				"type": "column",
				"topRadius": 1,
				"valueField": "visits"
			}],
			"depth3D": 40,
			"angle": 30,
			"chartCursor": {
				"categoryBalloonEnabled": false,
				"cursorAlpha": 0,
				"zoomable": false
			},
			"categoryField": "country",
			"categoryAxis": {
				"gridPosition": "start",
				"gridAlpha": 0,
				"autoWrap": true
			},
			"marginLeft": 100,
			"export": {
				"enabled": true
			}
		}, 0);

		//EnquiryTypes Solid Guage
		var gaugeChart = AmCharts.makeChart("EnquiryTypes", {
			"type": "gauge",
			"responsive": {
				"enabled": true
			},
			"theme": "light",
			"axes": [{
				"axisAlpha": 0,
				"tickAlpha": 0,
				"labelsEnabled": false,
				"startValue": 0,
				"endValue": 100,
				"startAngle": 0,
				"endAngle": 270,
				"bands": [{
					"color": "#eee",
					"startValue": 0,
					"endValue": 100,
					"radius": "80%",
					"innerRadius": "65%"
				}, {
					"color": "#fdd400",
					"startValue": 0,
					"endValue":@Model.HotEndvalue, //Actual value
					"radius": "80%",
					"innerRadius": "65%",
					"balloonText": "@Model.HotEndvalue%(Count:@Model.HotEnquiry)"//Actual value
				}, {
					"color": "#eee",
					"startValue": 0,
					"endValue": 100,
					"radius": "60%",
					"innerRadius": "45%"
				}, {
					"color": "#cc4748",
					"startValue": 0,
					"endValue": @Model.WarmEndvalue, //Actual value
					"radius": "60%",
					"innerRadius": "45%",
					"balloonText": "@Model.WarmEndvalue%(Count:@Model.WarmEnquiry)"//Actual value
				}, {
					"color": "#eee",
					"startValue": 0,
					"endValue": 100,
					"radius": "40%",
					"innerRadius": "25%"
				}, {
					"color": "#67b7dc",
					"startValue": 0,
					"endValue": @Model.ColdEndvalue, //Actual value
					"radius": "40%",
					"innerRadius": "25%",
					"balloonText": "@Model.ColdEndvalue%(Count:@Model.ColdEnquiry)"//Actual value
				}]
			}],
			"allLabels": [{
				"text": "Hot Enquiry",
				"x": "49%",
				"y": "15%",
				"size": 15,
				"bold": true,
				"color": "#fdd400",
				"align": "right"
			}, {
				"text": "Warm Enquiry",
				"x": "49%",
				"y": "24%",
				"size": 15,
				"bold": true,
				"color": "#cc4748",
				"align": "right"
			}, {
				"text": "Cold Enquiry",
				"x": "49%",
				"y": "33%",
				"size": 15,
				"bold": true,
				"color": "#67b7dc",
				"align": "right"
			}],
			"export": {
				"enabled": true
			}
		});

		//WeeklyWonLossAnalysis Reversed Value Axis
		var chart = AmCharts.makeChart("WeeklyWonLossAnalysis", {
			"type": "serial",
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"legend": {
				"useGraphSettings": true
			},
			"dataProvider": [
			@{ var dtlst = Model.EnquiryWonLost.Where(x => x.ClosingType != null).Select(x => x.Date).Distinct();}
			@foreach (var itm in dtlst)
			{

				<text>
				{
					"day": '@itm.Value.ToString("dd/MM")',
					"won": '@Model.EnquiryWonLost.Where(x => x.Date == itm).Where(y => y.ClosingType == (AdvanceCRM.Masters.ClosingTypeMaster)1).Count()',
					"lost": '@Model.EnquiryWonLost.Where(x => x.Date == itm).Where(y => y.ClosingType == (AdvanceCRM.Masters.ClosingTypeMaster)2).Count()'

				},
				</text>
			}
			],
			"valueAxes": [{
				"integersOnly": true,
				"maximum": 6,
				"minimum": 1,
				"reversed": true,
				"axisAlpha": 0,
				"dashLength": 5,
				"gridCount": 10,
				"position": "left",
				"title": "Won Loss Anaylsis"
			}],
			"startDuration": 0.5,
			"graphs": [{
				"balloonText": "Day-[[category]]: Won-[[value]]",
				"bullet": "round",
				//"hidden": true,
				"title": "Won",
				"valueField": "won",
				"fillAlphas": 0
			},{
				"balloonText": "Day-[[category]]: Lost-[[value]]",
				"bullet": "round",
				"title": "Lost",
				"valueField": "lost",
				"fillAlphas": 0
			}],
			"chartCursor": {
				"cursorAlpha": 0,
				"zoomable": true
			},
			"categoryField": "day",
			"categoryAxis": {
				"gridPosition": "start",
				"axisAlpha": 0,
				"fillAlpha": 0.05,
				"fillColor": "#000000",
				"gridAlpha": 0,
				"position": "top"
			},
			"export": {
				"enabled": true,
				"position": "bottom-right"
			}
		});


		//MediawiseEnquiry
		var chart = AmCharts.makeChart("MediawiseEnquiry", {
			"type": "pie",
			"theme": "light",
			"responsive": {
				"enabled": true
			},
			"labelText": "[[country]]\n([[litres]], Amt:[[sum]])",
			"autoMargins": false,
			"marginTop": 0,
			"marginBottom": 0,
			"marginLeft": 0,
			"marginRight": 0,
			"pullOutRadius":15,
			"dataProvider":[
			@foreach (var item in Model.EnquirySource.GroupBy(y => y.Source).Select(y => new { Source = y.Key, Count = y.Count(), Sum = (int)y.Sum(x => x.Total) }).OrderByDescending(z => z.Count).ToList())
			{
				<text>
				{
					"country": '@item.Source',
					"litres": '@item.Count',
					"sum":'@item.Sum'
				},
				</text>
			}
			],
			"valueField": "litres",
			"titleField": "country",
			"balloonText": "[[country]]\n(Count:[[litres]], Amt:[[sum]])",
			"balloon": {
				"fixedPosition": true
			},
			"export": {
				"enabled": true
			},
			"listeners": [{
				"event": "init",
				"method": function (event) {
					// apply slice colors to their labels
					var chart = event.chart;
					if (chart.labelColorField === undefined)
						chart.labelColorField = "labelColor";
					for (var i = 0; i < chart.chartData.length; i++) {
						chart.dataProvider[i][chart.labelColorField] = chart.chartData[i].color;
					}
					chart.validateData();
					chart.animateAgain();
				}
			}]
		});

		//ProductwiseDivisionEnquiry 3D Donut Chart
		var chart = AmCharts.makeChart("ProductwiseDivisionEnquiry", {
			"type": "pie",
			"responsive": {
				"enabled": true
			},
			"theme": "light",
			"labelRadius": -35,
			"labelText": "[[title]]:[[value]]",
			"autoMargins": false,
			"marginTop": 0,
			"marginBottom": 0,
			"marginLeft": 0,
			"marginRight": 0,
			"pullOutRadius": 10,
			"titles": [{
				"text": "",
				"size": 16
			}],
			"dataProvider": [
				@foreach (var line in Model.ProductwiseDivisionEnquiry.GroupBy(info => info.ProductsDivisionId).Select(group => new
				{
					DivID = group.Key,
					Count = group.Count()
				}))
				{

					 <text>
						{
							"country": '@Model.DivisionList.FirstOrDefault(x => x.Id == line.DivID).ProductsDivision',
							"visits": @line.Count,

						},
					</text>
				}
				],
			"valueField": "visits",
			"titleField": "country",
			"startEffect": "elastic",
			"startDuration": 2,
			"labelRadius": 15,
			"innerRadius": "50%",
			"depth3D": 10,
			"balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
			"angle": 15,
			"export": {
				"enabled": true
			}
		});
		//MonthlyEnquiryAnalysis Stacked bar chart with negative values
		var chart = AmCharts.makeChart("MonthlyEnquiryAnalysis", {
			"type": "serial",
			"responsive": {
				"enabled": true,
				"addDefaultRules": false,
				"rules": [
					{
						"maxWidth": 400,
						"overrides": {
							"legend": {
								"enabled": false
							}
						}
					}
				]
			},
			"theme": "light",
			"rotate": true,
			"marginBottom": 50,
			"dataProvider": [
			@{ var dt = DateTime.Now;}
				@for (int i = 1; i < DateTime.DaysInMonth(DateTime.Now.Year, DateTime.Now.Month); i++)
				{

					var age = dt.ToShortDateString();
					var male = Model.EnquiryAnalysisList.Where(x => x.Date.Value.ToShortDateString() == dt.ToShortDateString()).Select(x => x.Id).Count();
					var female = Model.EnquiryAnalysisList.Where(x => x.Date.Value.ToShortDateString() == dt.AddMonths(-1).ToShortDateString()).Count();
						<text>
						{
							"age": '@dt.ToString("dd MMM")  | @dt.AddMonths(-1).ToString("dd MMM")',
							"male": '-@male', //This Month
							"female": '@female' //Last Month
						},
						</text>
					dt = dt.AddDays(-1);
				}

				],
			"startDuration": 1,
			"graphs": [{
				"fillAlphas": 0.8,
				"lineAlpha": 0.2,
				"type": "column",
				"valueField": "male",
				"title": "Male",
				"labelText": "[[value]]",
				"clustered": false,
				"labelFunction": function (item) {
					return Math.abs(item.values.value);
				},
				"balloonText": "[[category]]"

			}, {
				"fillAlphas": 0.8,
				"lineAlpha": 0.2,
				"type": "column",
				"valueField": "female",
				"title": "Female",
				"labelText": "[[value]]",
				"clustered": false,
				"labelFunction": function (item) {
					return Math.abs(item.values.value);
				},
				"balloonText": "[[category]]"
			}],
			"categoryField": "age",
			"categoryAxis": {
				"gridPosition": "start",
				"gridAlpha": 0.2,
				"axisAlpha": 0
			},
			"valueAxes": [{
				"gridAlpha": 0,
				"ignoreAxisWidth": true,
				"labelFunction": function (value) {
					return Math.abs(value);
				},
				"guides": [{
					"value": 0,
					"lineAlpha": 0.2
				}]
			}],
			"balloon": {
				"fixedPosition": true
			},
			"chartCursor": {
				"valueBalloonsEnabled": false,
				"cursorAlpha": 0.05,
				"fullWidth": true
			},
			"allLabels": [{
				"text": "This Month",@*"This Month(@DateTime.Now.ToString("MMM"))" Male*@
				"x": "28%",
				"y": "97%",
				"bold": true,
				"align": "middle"
			}, {
				"text": "Last Month",@*(@DateTime.Now.AddMonths(-1).ToString("MMM"))Female*@
				"x": "75%",
				"y": "97%",
				"bold": true,
				"align": "middle"
			}],
			"export": {
				"enabled": true
			}

		});

		//OverallTargetEnquiry Animated gauge
	$(function () {

		$("#ReqTCnt").text(@Model.RequiredTargetCount);
		$("#AchTarCnt").text(@Model.AchievedTargetCount);

		var chartGuage = AmCharts.makeChart("OverallTargetEnquiry", {
			"theme": "light",
			"type": "gauge",
			"axes": [{
				"topTextFontSize": 20,
				"topTextYOffset": 70,
				"axisColor": "#31d6ea",
				"axisThickness": 1,
				"endValue": 100,
				"gridInside": true,
				"inside": true,
				"radius": "50%",
				"valueInterval": 20,
				"tickColor": "#67b7dc",
				"startAngle": -90,
				"endAngle": 90,
				"unit": "%",
				"bandOutlineAlpha": 0,
				"bands": [{
					"color": "#0080ff",
					"endValue": 100,
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.1, 0, -0.1],
					"startValue": 0
				}, {
					"color": "#3cd3a3",
					"endValue": @Model.EnquiryTargetCount.ToString(), //Change here
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.1, 0, -0.1],
					"startValue": 0
				}]
			}],
			"arrows": [{
				"alpha": 1,
				"innerRadius": "35%",
				"nailRadius": 0,
				"radius": "170%"
			}],
			"export": {
				"enabled": true
			}
		});

		setInterval(randomValue1, 2000);


		function randomValue1() {
			var value = Math.round(@Model.EnquiryTargetCount.ToString()); //and here
			chartGuage.arrows[0].setValue(value);
			chartGuage.axes[0].setTopText(value + " %");

                        chartGuage.axes[0].bands[1].endValue = value;
                        chartGuage.validateNow();
		}
	});



	$(function () {

		$("#ReqTAmt").text(@Model.RequiredTargetAmount);
		$("#AchTarAmt").text(@Model.AchievedTargetAmount);
		//OverallTargetEnquiryAmt Animated gauge
		var chartEnqAmt = AmCharts.makeChart("OverallTargetEnquiryAmt", {
			"theme": "light",
			"type": "gauge",
			"axes": [{
				"topTextFontSize": 20,
				"topTextYOffset": 70,
				"axisColor": "#31d6ea",
				"axisThickness": 1,
				"endValue": 100,
				"gridInside": true,
				"inside": true,
				"radius": "50%",
				"valueInterval": 20,
				"tickColor": "#67b7dc",
				"startAngle": -90,
				"endAngle": 90,
				"unit": "%",
				"bandOutlineAlpha": 0,
				"bands": [{
					"color": "#0080ff",
					"endValue": 100,
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.5, 0, -0.5],
					"startValue": 0
				}, {
					"color": "#3cd3a3",
					"endValue": @Model.EnquiryTargetAmount.ToString(), //Change here
					"innerRadius": "105%",
					"radius": "170%",
					"gradientRatio": [0.5, 0, -0.5],
					"startValue": 0
				}]
			}],
			"arrows": [{
				"alpha": 1,
				"innerRadius": "35%",
				"nailRadius": 0,
				"radius": "170%"
			}],
			"export": {
				"enabled": true
			}
		});


		setInterval(randomValueAmt, 2000);


		function randomValueAmt() {
			var value = Math.round(@Model.EnquiryTargetAmount.ToString()); //and here
			chartEnqAmt.arrows[0].setValue(value);
			chartEnqAmt.axes[0].setTopText(value + " %");

                        chartEnqAmt.axes[0].bands[1].endValue = value;
                        chartEnqAmt.validateNow();
		}
	});



		var citychart = AmCharts.makeChart("CitywiseEnquiry", {
				"type": "pie",
				"startDuration": 0,
				"theme": "light",
				"responsive": {
					"enabled": true
				},
				"addClassNames": true,
				"legend": {
					"position": "right",
					"marginRight": 100,
					"autoMargins": false
				},
				"innerRadius": "30%",
				"defs": {
					"filter": [{
						"id": "shadow",
						"width": "200%",
						"height": "200%",
						"feOffset": {
							"result": "offOut",
							"in": "SourceAlpha",
							"dx": 0,
							"dy": 0
						},
						"feGaussianBlur": {
							"result": "blurOut",
							"in": "offOut",
							"stdDeviation": 5
						},
						"feBlend": {
							"in": "SourceGraphic",
							"in2": "blurOut",
							"mode": "normal"
						}
					}]
				},
				"dataProvider":[
				@foreach (var item in Model.CitywiseEnquiry.GroupBy(y => y.ContactsCityId).Select(y => new { CityId = y.Key, Count = y.Count(), Sum = (int)y.Sum(x => x.Total) }).OrderByDescending(z => z.Count).ToList())
				{

					<text>
					{
						@{
							var cityid = "City not selected";
							if(item.CityId.HasValue == true)
							{
								cityid = Model.City.SingleOrDefault(x => x.Id == item.CityId).City;
							}
						}
						"country": '@cityid',
						"litres": '@item.Count',
						"sum" :'@item.Sum'
					},
					</text>
				}
				],
				"valueField": "litres",
				"titleField": "country",
				"labelText": "[[country]]([[litres]], Amt:[[sum]])",
				"balloonText": "[[country]](Count:[[litres]], Amt:[[sum]])",
				"autoMargins": false,
				"marginTop": 0,
				"marginBottom": 0,
				"marginLeft": 0,
				"marginRight": 0,
				"pullOutRadius": 10,
				"export": {
					"enabled": true
				}
		});

		citychart.addListener("init", handleInit);

		citychart.addListener("rollOverSlice", function (e) {
			handleRollOver(e);
		});

		function handleInit() {
			citychart.legend.addListener("rollOverItem", handleRollOver);
		}

		function handleRollOver(e) {
			var wedge = e.dataItem.wedge.node;
			wedge.parentNode.appendChild(wedge);
		}


		var chart = AmCharts.makeChart("BranchwiseEnquiry", {
				"theme": "light",
				"type": "serial",
				"startDuration": 2,
				"dataProvider":[
				@foreach (var item in Model.BranchwiseEnquiry.GroupBy(y => y.BranchId).Select(y => new { BranchID = y.Key, Count = y.Count(), Sum = (int)y.Sum(x => x.Total) }).OrderByDescending(z => z.Count).ToList())
				{

					<text>
					{
						@{  var branchid = "Branch N/A";
							if(item.BranchID.HasValue == true)
							{
								branchid = Model.Branch.SingleOrDefault(x => x.Id ==        item.BranchID).Branch;
							}
						}
						"country": '@branchid'+'\n'+'(Amt:@item.Sum)',
						"visits": '@item.Count',
						"sum" :'@item.Sum'
					},
					</text>
				}
				],
				"valueAxes": [{
					"position": "left",
					"title": "Count"
				}],
				"responsive": {
					"enabled": true
				},
				"graphs": [{
					"balloonText": "[[category]]: <b>[[value]]</b>",
					"autoColor":true,
					"fillColorsField": "color",
					"fillAlphas": 1,
					"lineAlpha": 0.1,
					"type": "column",
					"valueField": "visits"
				}],
				"depth3D": 20,
				"angle": 30,
				"chartCursor": {
					"categoryBalloonEnabled": false,
					"cursorAlpha": 0,
					"zoomable": false
				},
				"categoryField": "country",
				"categoryAxis": {
					"gridPosition": "start",
					"labelRotation": 90
				},
				"export": {
					"enabled": true
				}

		});



		$(function () {
			//Date range picker for EnquiryStages
			$('input[name="EnquiryStagesDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change Enquiry Stages
			$('input[name="EnquiryStagesDateRange"]').on('apply.daterangepicker', function (ev, picker) {

				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');
				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#EnquiryStagesFunnel").load('@Url.Action("EnquiryStagesFunnel", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if(JSON.parse(data).length != 0) {
						$("#lblMsgEnquiryStages").text("");
					}

					var chart = AmCharts.makeChart("EnquiryStagesFunnel", {
						"type": "funnel",
						"theme": "light",
						"responsive": {
							"enabled": true
						},
						"dataProvider": JSON.parse(data),
						"balloon": {
							"fixedPosition": true
						},
						"valueField": "value",
						"labelText": "[[title]] ([[value]], Amt:[[sum]])",
						"titleField": "title",
						"marginRight": 240,
						"marginLeft": 50,
						"startX": -500,
						"depth3D": 100,
						"angle": 40,
						"outlineAlpha": 1,
						"outlineColor": "#FFFFFF",
						"outlineThickness": 2,
						"labelPosition": "right",
						"balloonText": "[[title]] (Count:[[value]],Amt:[[sum]])" ,
						"export": {
							"enabled": true
						}
					});
				});

			});
			//End of Enquiry Stages
		});
		$(function () {
			//Date range picker for EnquiryStatus
			$('input[name="EnquiryStatusDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change Enquiry Stages
			$('input[name="EnquiryStatusDateRange"]').on('apply.daterangepicker', function (ev, picker) {


				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#EnquiryStatus").load('@Url.Action("EnquiryStatus", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data).length != 0) {
						$("#lblMsgEnquiryStatus").text("");
					}

					//Enquiry Status 3D PIE CHART
					var chart = AmCharts.makeChart("EnquiryStatus", {
						"type": "pie",
						"theme": "light",
						"labelText": "[[title]]:[[value]]",
						"autoMargins": false,
						"marginTop": 0,
						"marginBottom": 0,
						"marginLeft": 0,
						"marginRight": 0,
						"pullOutRadius":20,
						"responsive": {
							"enabled": true
						},
						"dataProvider": JSON.parse(data),
						"valueField": "value",
						"titleField": "country",
						"outlineAlpha": 0.4,
						"depth3D": 15,
						"balloonText": "[[title]]:<span style='font-size:14px'><b>[[percents]]%</b>([[value]])</span>",
						"angle": 30,
						"export": {
							"enabled": true
						}
					});
				});

			});
			//End of Enquiry Status
		});

		$(function () {
			//Date range picker for EnquiryWonLoss
			$('input[name="EnquiryWonLoss"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});


			//On date change Enquiry Won Loss
			$('input[name="EnquiryWonLoss"]').on('apply.daterangepicker', function (ev, picker) {

				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#WeeklyWonLossAnalysis").load('@Url.Action("EnquiryWonLoss", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
					if (JSON.parse(data).length != 0)
					{
						$("#lblMsgEnquiryWonLost").text("");

					}

					var chart = AmCharts.makeChart("WeeklyWonLossAnalysis", {
						"type": "serial",
						"theme": "light",
						"responsive": {
							"enabled": true
						},
						"legend": {
							"useGraphSettings": true
						},
						"dataProvider": JSON.parse(data),
						"valueAxes": [{
							"integersOnly": true,
							"maximum": 6,
							"minimum": 1,
							"reversed": true,
							"axisAlpha": 0,
							"dashLength": 5,
							"gridCount": 10,
							"position": "left",
							"title": "Won Loss Anaylsis"
						}],
						"startDuration": 0.5,
						"graphs": [{
							"balloonText": "Day-[[category]]: Won-[[value]]",
							"bullet": "round",
							//"hidden": true,
							"title": "Won",
							"valueField": "won",
							"fillAlphas": 0
						}, {
							"balloonText": "Day-[[category]]: Lost-[[value]]",
							"bullet": "round",
							"title": "Lost",
							"valueField": "lost",
							"fillAlphas": 0
						}],
						"chartCursor": {
							"cursorAlpha": 0,
							"zoomable": true
						},
						"categoryField": "day",
						"categoryAxis": {
							"gridPosition": "start",
							"axisAlpha": 0,
							"fillAlpha": 0.05,
							"fillColor": "#000000",
							"gridAlpha": 0,
							"position": "top"
						},
						"export": {
							"enabled": true,
							"position": "bottom-right"
						}
					});
				});

			});
			//End of Enquiry Won Loss
		});

		$(function () {
			//Enquiry Types
			//Date range picker for EnquiryTypes
			$('input[name="EnquiryTypesDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change Enquiry Types
			$('input[name="EnquiryTypesDateRange"]').on('apply.daterangepicker', function (ev, picker) {

				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');
				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#EnquiryTypes").load('@Url.Action("EnquiryTypesChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
					if (JSON.parse('[' + JSON.parse(data) + ']').length != 0)
					{
						$("#lblEnquiryTypes").text("");
					}
					var gaugeChart = AmCharts.makeChart("EnquiryTypes", {
						"type": "gauge",
						"responsive": {
							"enabled": true
						},
						"theme": "light",
						"axes": [{
							"axisAlpha": 0,
							"tickAlpha": 0,
							"labelsEnabled": false,
							"startValue": 0,
							"endValue": 100,
							"startAngle": 0,
							"endAngle": 270,
							"bands": JSON.parse('[' + JSON.parse(data) + ']')
						}],
						"allLabels": [{
							"text": "Hot Enquiry",
							"x": "49%",
							"y": "15%",
							"size": 15,
							"bold": true,
							"color": "#fdd400",
							"align": "right"
						}, {
							"text": "Warm Enquiry",
							"x": "49%",
							"y": "24%",
							"size": 15,
							"bold": true,
							"color": "#cc4748",
							"align": "right"
						}, {
							"text": "Cold Enquiry",
							"x": "49%",
							"y": "33%",
							"size": 15,
							"bold": true,
							"color": "#67b7dc",
							"align": "right"
						}],
						"export": {
							"enabled": true
						}
					});

				});

			});
			//End of enquiry types
		});





		$(function () {
			//Start of MediawiseEnquiry
			//Date range picker for MediawiseEnquiry
			$('input[name="MediawiseEnquiryDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change MediawiseEnquiry
			$('input[name="MediawiseEnquiryDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#MediawiseEnquiry").load('@Url.Action("MediawiseEnquiryChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data).length != 0) {
						$("#lblMsgEnquirySource").text("");
					}

					var chart = AmCharts.makeChart("MediawiseEnquiry", {
					"type": "pie",
					"theme": "light",
					"responsive": {
						"enabled": true
					},
					"labelText": "[[title]]\n([[value]], Amt:[[sum]])",
					"autoMargins": false,
					"marginTop": 0,
					"marginBottom": 0,
					"marginLeft": 0,
					"marginRight": 0,
					"pullOutRadius": 15,
					"dataProvider":JSON.parse(data),
					"valueField": "value",
					"titleField": "title",
					"balloonText": "[[title]]\n(Count:[[value]], Amt:[[sum]])",
					"balloon": {
						"fixedPosition": true
					},
					"export": {
						"enabled": true
					},
					"listeners": [{
						"event": "init",
						"method": function (event) {
							// apply slice colors to their labels
							var chart = event.chart;
							if (chart.labelColorField === undefined)
								chart.labelColorField = "labelColor";
							for (var i = 0; i < chart.chartData.length; i++) {
								chart.dataProvider[i][chart.labelColorField] = chart.chartData[i].color;
							}
							chart.validateData();
							chart.animateAgain();
						}
					}]
				});

				});

			});
			//End of MediawiseEnquiry
		});

		$(function () {
			//EnquiryAnalysis Pyramid
			//Date range picker for EnquiryAnalysisPyramid
			$('input[name="EnquiryAnalysisDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change Enquiry Analysis
			$('input[name="EnquiryAnalysisDateRange"]').on('apply.daterangepicker', function (ev, picker) {

				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));

				$("#EnquiryAnalysisPyramid").load('@Url.Action("EnquiryAnalysis", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data) == "") {

						$("#lblMsgEnquiryAnalysisPyramid").text("Data is not available for last 30 days,kindly select Date range");
					}
					else {
						$("#lblMsgEnquiryAnalysisPyramid").text("");

					}

					var chart = AmCharts.makeChart("EnquiryAnalysisPyramid", {
						"type": "funnel",
						"theme": "light",
						"responsive": {
							"enabled": true
						},
						"dataProvider": JSON.parse(data),
						"balloon": {
							"fixedPosition": true
						},
						"valueField": "value",
						"titleField": "title",
						"marginRight": 240,
						"marginLeft": 50,
						"startX": -500,
						"rotate": true,
						"labelPosition": "right",
						"balloonText": "[[title]]: [[value]]",
						"export": {
							"enabled": true
						}
					});
				});

			});
			//End of Enquiry Analysis
		});

		$(function () {
			//Start ProductwiseDivisionEnquiry
			//Date range picker for ProductwiseDivisionEnquiry
			$('input[name="ProductwiseDivisionDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change ProductwiseDivisionEnquiry
			$('input[name="ProductwiseDivisionDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#ProductwiseDivisionEnquiry").load('@Url.Action("ProductwiseDivisionEnquiryChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
					if (JSON.parse(data).length != 0) {
						$("#lblProductwiseDivision").text("");
						$("#lblProductwiseDivision").hide();
					}
					else
					{
						$("#lblProductwiseDivision").show();
						$("#lblProductwiseDivision").text("Data is not available for last 30 days,kindly select Date range");

					}
					var chart = AmCharts.makeChart("ProductwiseDivisionEnquiry", {
						"type": "pie",
						"responsive": {
							"enabled": true
						},
						"theme": "light",
						"labelRadius": -35,
						"labelText": "[[title]]:[[value]]",
						"autoMargins": false,
						"marginTop": 0,
						"marginBottom": 0,
						"marginLeft": 0,
						"marginRight": 0,
						"pullOutRadius":10,
						"titles": [{
							"text": "",
							"size": 16
						}],
						"dataProvider": JSON.parse(data),
						"valueField": "visits",
						"titleField": "country",
						"startEffect": "elastic",
						"startDuration": 2,
						"labelRadius": 15,
						"innerRadius": "50%",
						"depth3D": 10,
						"balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
						"angle": 15,
						"export": {
							"enabled": true
						}
					});
				});

			});
			//End of ProductwiseDivisionEnquiry
		});

	 $(function () {
			//Start MostEnquiredProduct

			$('input[name="MostEnquiryProductDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			$('input[name="MostEnquiryProductDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#MostEnquiryProduct").load('@Url.Action("MostEnquiredProductChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
					if(JSON.parse(data).length != 0)
					{
						$("#lblMsgMostEnquiryProduct").text("");
						$("#lblMsgMostEnquiryProduct").hide();
					}
					else
					{
						$("#lblMsgMostEnquiryProduct").show();
						$("#lblMsgMostEnquiryProduct").text("Data is not available for last 30 days,kindly select Date range");

					}
					var chart = AmCharts.makeChart("MostEnquiryProduct", {
						"theme": "light",
						"responsive": {
							"enabled": true
						},
						"type": "serial",
						"startDuration": 2,
						"dataProvider": JSON.parse(data),
						"valueAxes": [{
							"position": "left",
							"axisAlpha": 0,
							"gridAlpha": 0
						}],
						"graphs": [{
							"balloonText": "[[category]]: <b>[[value]]</b>",
							"autoColor": true,
							"fillAlphas": 0.85,
							"lineAlpha": 0.1,
							"type": "column",
							"topRadius": 1,
							"valueField": "visits"
						}],
						"depth3D": 40,
						"angle": 30,
						"chartCursor": {
							"categoryBalloonEnabled": false,
							"cursorAlpha": 0,
							"zoomable": false
						},
						"categoryField": "country",
						"categoryAxis": {
							"gridPosition": "start",
							"gridAlpha": 0,
							"autoWrap": true
						},
						"marginLeft": 100,
						"export": {
							"enabled": true
						}
					}, 0);


				});

			});
			//End of MostEnquiredProduct
		});
	 $(function () {
			//Start LeastEnquiredProduct
			//Date range picker for LeastEnquiredProduct
			$('input[name="LeastEnquiredProductDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change LeastEnquiredProduct
			$('input[name="LeastEnquiredProductDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#LeastEnquiredProduct").load('@Url.Action("LeastEnquiredProductChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data).length != 0) {
						$("#lblMsgLeastEnquiryProduct").text("");
						$("#lblMsgLeastEnquiryProduct").hide();
					}
					else
					{
						$("#lblMsgLeastEnquiryProduct").show();
						$("#lblMsgLeastEnquiryProduct").text("Data is not available for last 30 days,kindly select Date range");

					}

					//LeastEnquiredProduct 3D Cylinder Chart
					var chart = AmCharts.makeChart("LeastEnquiredProduct", {
						"theme": "light",
						"autoMarginOffset": 30,
						"responsive": {
							"enabled": true
						},
						"type": "serial",
						"startDuration": 1,
						"dataProvider": JSON.parse(data),
						"valueAxes": [{
							"position": "left",
							"axisAlpha": 0,
							"gridAlpha": 0
						}],
						"graphs": [{
							"balloonText": "[[category]]: <b>[[value]]</b>",
							"autoColor": true,
							"fillAlphas": 0.85,
							"lineAlpha": 0.1,
							"type": "column",
							"topRadius": 1,
							"valueField": "visits"
						}],
						"depth3D": 40,
						"angle": 30,
						"chartCursor": {
							"categoryBalloonEnabled": false,
							"cursorAlpha": 0,
							"zoomable": false
						},
						"categoryField": "country",
						"categoryAxis": {
							"gridPosition": "start",
							"gridAlpha": 0,
							"autoWrap": true
						},
						"marginLeft": 100,
						"export": {
							"enabled": true
						}
					}, 0);


				});

			});
			//End of LeastEnquiredProduct
	});


	 $(function () {
			//Start CitywiseEnquiry
			//Date range picker for CitywiseEnquiry
			$('input[name="CitywiseEnquiryDateRange"]').daterangepicker({
				startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
				endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
			});

			//On date change CitywiseEnquiry
			$('input[name="CitywiseEnquiryDateRange"]').on('apply.daterangepicker', function (ev, picker) {
				var sDate = picker.startDate.format('MM/DD/YYYY');
				var eDate = picker.endDate.format('MM/DD/YYYY');

				$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
				$("#CitywiseEnquiry").load('@Url.Action("CitywiseEnquiryChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

					if (JSON.parse(data).length != 0) {
						$("#lblMsgCitywiseEnquiry").text("");
						$("#lblMsgCitywiseEnquiry").hide();
					}
					else
					{
						$("#lblMsgCitywiseEnquiry").show();
						$("#lblMsgCitywiseEnquiry").text("Data is not available for last 30 days,kindly select Date range");

					}

					//CitywiseEnquiry Pie chart
					var chart = AmCharts.makeChart("CitywiseEnquiry", {
					"type": "pie",
					"startDuration": 0,
					"theme": "light",
					"responsive": {
						"enabled": true
					},
					"addClassNames": true,
					"legend": {
						"position": "right",
						"marginRight": 100,
						"autoMargins": false
					},
					"innerRadius": "30%",
					"defs": {
						"filter": [{
							"id": "shadow",
							"width": "200%",
							"height": "200%",
							"feOffset": {
								"result": "offOut",
								"in": "SourceAlpha",
								"dx": 0,
								"dy": 0
							},
							"feGaussianBlur": {
								"result": "blurOut",
								"in": "offOut",
								"stdDeviation": 5
							},
							"feBlend": {
								"in": "SourceGraphic",
								"in2": "blurOut",
								"mode": "normal"
							}
						}]
					},
					"dataProvider": JSON.parse(data),
					"valueField": "litres",
					"titleField": "country",
					"labelText": "[[country]]([[litres]], Amt:[[sum]])",
					"balloonText": "[[country]](Count:[[litres]], Amt:[[sum]])",
					"autoMargins": false,
					"marginTop": 0,
					"marginBottom": 0,
					"marginLeft": 0,
					"marginRight": 0,
					"pullOutRadius": 10,
					"export": {
						"enabled": true
					}
					});

					chart.addListener("init", handleInit);

					chart.addListener("rollOverSlice", function (e) {
						handleRollOver(e);
					});

					function handleInit() {
						chart.legend.addListener("rollOverItem", handleRollOver);
					}

					function handleRollOver(e) {
						var wedge = e.dataItem.wedge.node;
						wedge.parentNode.appendChild(wedge);
					}


				});

			});
			//End of CitywiseEnquiry
	});


	$(function () {
		//Start BranchwiseEnquiry
		//Date range picker for BranchwiseEnquiry
		$('input[name="BranchwiseEnquiryEnquiryDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change BranchwiseEnquiryEnquiry
		$('input[name="BranchwiseEnquiryEnquiryDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#BranchwiseEnquiry").load('@Url.Action("BranchwiseEnquiryChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {

				if (JSON.parse(data).length != 0) {
					$("#lblMsgBranchwiseEnquiry").text("");
					$("#lblMsgBranchwiseEnquiry").hide();
				}
				else {
					$("#lblMsgBranchwiseEnquiry").show();
					$("#lblMsgBranchwiseEnquiry").text("Data is not available for last 30 days,kindly select Date range");

				}

				//BranchwiseEnquiry
				var chart = AmCharts.makeChart("BranchwiseEnquiry", {
					"theme": "light",
					"type": "serial",
					"startDuration": 2,
					"dataProvider": JSON.parse(data),
					"valueAxes": [{
						"position": "left",
						"title": "Count"
					}],
					"responsive": {
						"enabled": true
					},
					"graphs": [{
						"balloonText": "[[category]]: <b>[[value]]</b>",
						"autoColor": true,
						"fillColorsField": "color",
						"fillAlphas": 1,
						"lineAlpha": 0.1,
						"type": "column",
						"valueField": "visits"
					}],
					"depth3D": 20,
					"angle": 30,
					"chartCursor": {
						"categoryBalloonEnabled": false,
						"cursorAlpha": 0,
						"zoomable": false
					},
					"categoryField": "country",
					"categoryAxis": {
						"gridPosition": "start",
						"labelRotation": 90
					},
					"export": {
						"enabled": true
					}

				});


			});

		});
		//End of BranchwiseEnquiry
	});


	$(function () {
		//Start OverallTargetEnquiry
		//Date range picker for OverallTargetEnquiry
		$('input[name="OverallTargetEnquiryDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change OverallTargetEnquiry
		$('input[name="OverallTargetEnquiryDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#OverallTargetEnquiry").load('@Url.Action("OverallTargetEnquiryChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {
				var Obj = JSON.parse(data);

				if (JSON.parse(data).length != 0) {
					$("#lblMsgEnquiryTargetCount").text("");
					$("#lblMsgEnquiryTargetCount").hide();
				}
				else {
					$("#lblMsgEnquiryTargetCount").show();
					$("#lblMsgEnquiryTargetCount").text("Data is not available for last 30 days,kindly select Date range");

				}


				$("#ReqTCnt").text(Obj.RCnt);
				$("#AchTarCnt").text(Obj.ACnt);

				//OverallTargetEnquiry Animated gauge
				var chartGuage = AmCharts.makeChart("OverallTargetEnquiry", {
					"theme": "light",
					"type": "gauge",
					"axes": [{
						"topTextFontSize": 20,
						"topTextYOffset": 70,
						"axisColor": "#31d6ea",
						"axisThickness": 1,
						"endValue": 100,
						"gridInside": true,
						"inside": true,
						"radius": "50%",
						"valueInterval": 20,
						"tickColor": "#67b7dc",
						"startAngle": -90,
						"endAngle": 90,
						"unit": "%",
						"bandOutlineAlpha": 0,
						"bands": [{
							"color": "#0080ff",
							"endValue": 100,
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}, {
							"color": "#3cd3a3",
							"endValue": Obj.Percent, //Change here
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}]
					}],
					"arrows": [{
						"alpha": 1,
						"innerRadius": "35%",
						"nailRadius": 0,
						"radius": "170%"
					}],
					"export": {
						"enabled": true
					}
				});

				setInterval(randomValueEnqd, 2000);


				function randomValueEnqd() {
					var value = Math.round(Obj.Percent); //and here
					chartGuage.arrows[0].setValue(value);
					chartGuage.axes[0].setTopText(value + " %");

                                        chartGuage.axes[0].bands[1].endValue = value;
                                        chartGuage.validateNow();
				}


			});

		});

		//End of OverallTargetEnquiry
	});

	$(function () {
		//Start OverallTargetEnquiryAmt
		//Date range picker for OverallTargetEnquiryAmt
		$('input[name="OverallTargetEnquiryAmtDateRange"]').daterangepicker({
			startDate: '@System.DateTime.Now.AddMonths(-1).ToString("MM/dd/yyyy")',
			endDate: '@System.DateTime.Now.ToString("MM/dd/yyyy")'
		});

		//On date change OverallTargetEnquiryAmt
		$('input[name="OverallTargetEnquiryAmtDateRange"]').on('apply.daterangepicker', function (ev, picker) {
			var sDate = picker.startDate.format('MM/DD/YYYY');
			var eDate = picker.endDate.format('MM/DD/YYYY');

			$(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
			$("#OverallTargetEnquiryAmt").load('@Url.Action("OverallTargetEnquiryAmtChart", "EnquiryDashboard")?StartDate=' + picker.startDate.format('MM/DD/YYYY') + '&EndDate=' + picker.endDate.format('MM/DD/YYYY'), function (data) {


				if (JSON.parse(data).length != 0) {
					$("#lblMsgEnquiryTargetAmt").text("");
					$("#lblMsgEnquiryTargetAmt").hide();
				}
				else {
					$("#lblMsgEnquiryTargetAmt").show();
					$("#lblMsgEnquiryTargetAmt").text("Data is not available for last 30 days,kindly select Date range");

				}
				var obj = JSON.parse(data);

				$("#ReqTAmt").text(obj.RAmt);
				$("#AchTarAmt").text(obj.AAmt);

				//OverallTargetEnquiryAmt Animated gauge
				var chartAmt = AmCharts.makeChart("OverallTargetEnquiryAmt", {
					"theme": "light",
					"type": "gauge",
					"axes": [{
						"topTextFontSize": 20,
						"topTextYOffset": 70,
						"axisColor": "#31d6ea",
						"axisThickness": 1,
						"endValue": 100,
						"gridInside": true,
						"inside": true,
						"radius": "50%",
						"valueInterval": 20,
						"tickColor": "#67b7dc",
						"startAngle": -90,
						"endAngle": 90,
						"unit": "%",
						"bandOutlineAlpha": 0,
						"bands": [{
							"color": "#0080ff",
							"endValue": 100,
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}, {
							"color": "#3cd3a3",
							"endValue": obj.Per, //Change here
							"innerRadius": "105%",
							"radius": "170%",
							"gradientRatio": [0.5, 0, -0.5],
							"startValue": 0
						}]
					}],
					"arrows": [{
						"alpha": 1,
						"innerRadius": "35%",
						"nailRadius": 0,
						"radius": "170%"
					}],
					"export": {
						"enabled": true
					}
				});

				setInterval(randomValueEnqAmtd, 2000);


				function randomValueEnqAmtd() {
					//alert(data);
					var value = Math.round(obj.Per); //and here
					chartAmt.arrows[0].setValue(value);
					chartAmt.axes[0].setTopText(value + " %");

                                        chartAmt.axes[0].bands[1].endValue = value;
                                        chartAmt.validateNow();
				}


			});

		});

		//End of OverallTargetEnquiryAmt
	});




</script>
<!-- HTML -->

<body style='background:lightgrey;'>
    @Html.HiddenFor(m => m.StartDate)
    @Html.HiddenFor(m => m.EndDate)

    <div>
        <br />
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" data-backdrop="true" style='background:white;box-shadow: 10px 10px 5px #888888;'>

                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="EnquiryStagesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Enquiry Stages</strong>
                        <div id="EnquiryStagesFunnel"></div>
                        @if (Model.EnquiryStages.Count() == 0)
		{
                        <label id="lblMsgEnquiryStages">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="EnquiryAnalysisDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Enquiry Analysis</strong>
                        <div id="EnquiryAnalysisPyramid"></div>
                        @if ((Model.TotalEnquiryTypes == 0) && (Model.EnquiryStatusOpen == 0) && (Model.EnquiryStatusClosed == 0) && (Model.EnquiryStatusPending == 0) && (Model.EnquiryWon == 0) && (Model.EnquiryLost == 0))
						{
                        <label id="lblMsgEnquiryAnalysisPyramid">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="EnquiryStatusDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Enquiry Status</strong>
                        <div id="EnquiryStatus"></div>
                        @if ((Model.EnquiryStatusOpen == 0) && (Model.EnquiryStatusClosed == 0) && (Model.EnquiryStatusPending == 0))
						{
                        <label id="lblMsgEnquiryStatus">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="MediawiseEnquiryDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Mediawise Enquiry</strong>
                        <div id="MediawiseEnquiry"></div>
                        @if (Model.EnquirySource.Count() == 0)
						{
                        <label id="lblMsgEnquirySource">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label style="text-align:left">Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="EnquiryWonLoss">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Enquiry Won and Loss Analysis</strong>
                        <div id="WeeklyWonLossAnalysis"></div>
                        @if (Model.EnquiryWonLost.Count() == 0)
						{
                        <label id="lblMsgEnquiryWonLost">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="MostEnquiryProductDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Most Enquired Products (Top 15)</strong>
                        <div id="MostEnquiryProduct"></div>
                        @if (Model.MostEnquiryProduct.Count() == 0)
						{
                        <label id="lblMsgMostEnquiryProduct">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="LeastEnquiredProductDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Least Enquired Products (Top 15)</strong>
                        <div id="LeastEnquiredProduct"></div>
                        @if (Model.LeastEnquiryProduct.Count() == 0)
						{
                        <label id="lblMsgLeastEnquiryProduct">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="EnquiryTypesDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Enquiry Types (Hot,Warm and Cold)</strong>
                        <div id="EnquiryTypes"></div>
                        @if (Model.HotEndvalue == 0 && Model.WarmEndvalue == 0 && Model.ColdEndvalue == 0)
						{
                        <label id="lblEnquiryTypes">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}

                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="ProductwiseDivisionDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Productwise Division Enquiry</strong>
                        <div id="ProductwiseDivisionEnquiry"></div>
                        @if (Model.ProductwiseDivisionEnquiry.Count() == 0)
						{
                        <label id="lblProductwiseDivision">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <strong>Monthly Enquiry Analysis</strong>
                        <div id="MonthlyEnquiryAnalysis"></div>
                        @if (Model.EnquiryAnalysisList.Count() == 0)
						{
                        <label id="lblEnquiryAnalysisList">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;text-align:center;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label style="text-align:left">Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="CitywiseEnquiryDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Citywise Enquiry Analysis</strong>
                        <div id="CitywiseEnquiry"></div>
                        @if (Model.CitywiseEnquiry.Count() == 0)
						{
                        <label id="lblMsgCitywiseEnquiry">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="OverallTargetEnquiryDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Overall Company's Target Achievement for Enquiry (Count)</strong>
                        <div id="OverallTargetEnquiry"></div>
                        <div style='text-align:center;'>
                            <label>(Target: <label id="ReqTCnt"></label>,  Achieved: <label id="AchTarCnt"></label></label>)
                        </div>
                        @if (Model.EnquiryTargetCount <= 0)
	{
                        <label id="lblMsgEnquiryTargetCount">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
}
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label>Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="OverallTargetEnquiryAmtDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Overall Company's Target Achievement for Enquiry (Amount)</strong>
                        <div id="OverallTargetEnquiryAmt"></div>
                        <div style='text-align:center;'>
                            <label>(Target: <label id="ReqTAmt"></label>,  Achieved: <label id="AchTarAmt"></label></label>)
                        </div>
                        @if (Model.EnquiryTargetAmount <= 0)
						{
                        <label id="lblMsgEnquiryTargetAmt">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="col-lg-6">
                    <div class="well active" style='background:white;box-shadow: 10px 10px 5px #888888;'>
                        <!-- Date range -->
                        <div class="form-group">
                            <label style="text-align:left">Date range:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </div>
                                <input type="text" class="form-control pull-right" name="BranchwiseEnquiryEnquiryDateRange">
                            </div><!-- /.input group -->
                        </div><!-- /.form group -->
                        <!-- Date and time range -->
                        <strong>Branchwise Enquiry Analysis</strong>
                        <div id="BranchwiseEnquiry"></div>
                        @if (Model.BranchwiseEnquiry.Count() == 0)
						{
                        <label id="lblMsgBranchwiseEnquiry">
                            <i style="color:cornflowerblue;" class="fa fa-info-circle fa-2x"></i><span>&nbsp;</span>
                            <strong style="color:cornflowerblue;">Data is not available for last 30 days,kindly select Date range</strong>
                        </label>
						}
                    </div>

                </div>

            </div>
        </div>
    </div>
</body>















